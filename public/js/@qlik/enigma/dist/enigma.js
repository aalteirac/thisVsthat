(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["enigma"] = factory();
	else
		root["enigma"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 7);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!**********************!*\
  !*** ./src/cache.js ***!
  \**********************/
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Key value cache\n */\n\nvar KeyValueCache = function () {\n\tfunction KeyValueCache() {\n\t\t_classCallCheck(this, KeyValueCache);\n\n\t\tthis.entries = {};\n\t}\n\n\t/**\n  * @description Function used to add an entry.\n  * @param {String} key The key representing an entry.\n  * @param {*} entry The entry to be added.\n  */\n\n\n\t_createClass(KeyValueCache, [{\n\t\tkey: \"add\",\n\t\tvalue: function add(key, entry) {\n\t\t\tkey += \"\";\n\t\t\tif (typeof this.entries[key] !== \"undefined\") {\n\t\t\t\tthrow new Error(\"Entry already defined with key \" + key);\n\t\t\t}\n\t\t\tthis.entries[key] = entry;\n\t\t}\n\n\t\t/**\n   * @description Function used to set an entry.\n   * @param {String} key The key representing an entry.\n   * @param {*} entry The entry.\n   */\n\n\t}, {\n\t\tkey: \"set\",\n\t\tvalue: function set(key, entry) {\n\t\t\tkey += \"\";\n\t\t\tthis.entries[key] = entry;\n\t\t}\n\n\t\t/**\n   * @description Function used to remove an entry.\n   * @param {String} key The key representing an entry.\n   */\n\n\t}, {\n\t\tkey: \"remove\",\n\t\tvalue: function remove(key) {\n\t\t\tdelete this.entries[key];\n\t\t}\n\n\t\t/**\n   * @description Function used to get an entry.\n   * @param {String} key The key representing an entry.\n   * @returns {*} The entry for the key.\n   */\n\n\t}, {\n\t\tkey: \"get\",\n\t\tvalue: function get(key) {\n\t\t\treturn this.entries[key];\n\t\t}\n\n\t\t/**\n  * @description Function used to get a list of all entries.\n  * @returns {Array} Returns the list of entries including its `key` and `value` properties.\n  */\n\n\t}, {\n\t\tkey: \"getAll\",\n\t\tvalue: function getAll() {\n\t\t\tvar _this = this;\n\n\t\t\treturn Object.keys(this.entries).map(function (key) {\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\tvalue: _this.entries[key]\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * @description Function used to get a key for an entry.\n   * @param {*} entry The entry to locate the key for.\n   * @returns {String} The key representing an entry.\n   */\n\n\t}, {\n\t\tkey: \"getKey\",\n\t\tvalue: function getKey(entry) {\n\t\t\tvar _this2 = this;\n\n\t\t\treturn Object.keys(this.entries).filter(function (key) {\n\t\t\t\treturn _this2.entries[key] === entry;\n\t\t\t})[0];\n\t\t}\n\n\t\t/**\n   * @description Function used to clear the cache of all entries.\n   */\n\n\t}, {\n\t\tkey: \"clear\",\n\t\tvalue: function clear() {\n\t\t\tthis.entries = {};\n\t\t}\n\t}]);\n\n\treturn KeyValueCache;\n}();\n\nexports.default = KeyValueCache;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY2FjaGUuanM/OTMzMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEtleSB2YWx1ZSBjYWNoZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlWYWx1ZUNhY2hlIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5lbnRyaWVzID0ge307XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gYWRkIGFuIGVudHJ5LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgcmVwcmVzZW50aW5nIGFuIGVudHJ5LlxuXHQgKiBAcGFyYW0geyp9IGVudHJ5IFRoZSBlbnRyeSB0byBiZSBhZGRlZC5cblx0ICovXG5cdGFkZCgga2V5LCBlbnRyeSApIHtcblx0XHRrZXkgKz0gXCJcIjtcblx0XHRpZiAoIHR5cGVvZiB0aGlzLmVudHJpZXNba2V5XSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvciggXCJFbnRyeSBhbHJlYWR5IGRlZmluZWQgd2l0aCBrZXkgXCIgKyBrZXkgKTtcblx0XHR9XG5cdFx0dGhpcy5lbnRyaWVzW2tleV0gPSBlbnRyeTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBzZXQgYW4gZW50cnkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgVGhlIGtleSByZXByZXNlbnRpbmcgYW4gZW50cnkuXG5cdCAqIEBwYXJhbSB7Kn0gZW50cnkgVGhlIGVudHJ5LlxuXHQgKi9cblx0c2V0KCBrZXksIGVudHJ5ICkge1xuXHRcdGtleSArPSBcIlwiO1xuXHRcdHRoaXMuZW50cmllc1trZXldID0gZW50cnk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gcmVtb3ZlIGFuIGVudHJ5LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgcmVwcmVzZW50aW5nIGFuIGVudHJ5LlxuXHQgKi9cblx0cmVtb3ZlKCBrZXkgKSB7XG5cdFx0ZGVsZXRlIHRoaXMuZW50cmllc1trZXldO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGdldCBhbiBlbnRyeS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IHJlcHJlc2VudGluZyBhbiBlbnRyeS5cblx0ICogQHJldHVybnMgeyp9IFRoZSBlbnRyeSBmb3IgdGhlIGtleS5cblx0ICovXG5cdGdldCgga2V5ICkge1xuXHRcdHJldHVybiB0aGlzLmVudHJpZXNba2V5XTtcblx0fVxuXG5cdC8qKlxuXHQqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGdldCBhIGxpc3Qgb2YgYWxsIGVudHJpZXMuXG5cdCogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBsaXN0IG9mIGVudHJpZXMgaW5jbHVkaW5nIGl0cyBga2V5YCBhbmQgYHZhbHVlYCBwcm9wZXJ0aWVzLlxuXHQqL1xuXHRnZXRBbGwoKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKCB0aGlzLmVudHJpZXMgKS5tYXAoIGtleSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRrZXksXG5cdFx0XHRcdHZhbHVlOiB0aGlzLmVudHJpZXNba2V5XVxuXHRcdFx0fTtcblx0XHR9ICk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGEga2V5IGZvciBhbiBlbnRyeS5cblx0ICogQHBhcmFtIHsqfSBlbnRyeSBUaGUgZW50cnkgdG8gbG9jYXRlIHRoZSBrZXkgZm9yLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUga2V5IHJlcHJlc2VudGluZyBhbiBlbnRyeS5cblx0ICovXG5cdGdldEtleSggZW50cnkgKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKCB0aGlzLmVudHJpZXMgKS5maWx0ZXIoIGtleSA9PiB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lbnRyaWVzW2tleV0gPT09IGVudHJ5O1xuXHRcdH0gKVswXTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBjbGVhciB0aGUgY2FjaGUgb2YgYWxsIGVudHJpZXMuXG5cdCAqL1xuXHRjbGVhcigpIHtcblx0XHR0aGlzLmVudHJpZXMgPSB7fTtcblx0fVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2NhY2hlLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQ0E7QUFDQTs7Ozs7O0FBMUVBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 1 */
/*!******************************!*\
  !*** ./src/event-emitter.js ***!
  \******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _nodeEventEmitter = __webpack_require__(/*! node-event-emitter */ 12);\n\nvar _nodeEventEmitter2 = _interopRequireDefault(_nodeEventEmitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @description Event emitter mixin.\n */\nexports.default = {\n\n\t/**\n  * @description Function used to add event handling to objects passed in.\n  * @param {Object} obj Object instance that will get event handling.\n  */\n\n\tmixin: function mixin(obj) {\n\t\tObject.keys(_nodeEventEmitter2.default.prototype).forEach(function (key) {\n\t\t\tobj[key] = _nodeEventEmitter2.default.prototype[key];\n\t\t});\n\t\t_nodeEventEmitter2.default.init(obj);\n\t}\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvZXZlbnQtZW1pdHRlci5qcz9kNjU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcIm5vZGUtZXZlbnQtZW1pdHRlclwiO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBFdmVudCBlbWl0dGVyIG1peGluLlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGFkZCBldmVudCBoYW5kbGluZyB0byBvYmplY3RzIHBhc3NlZCBpbi5cblx0ICogQHBhcmFtIHtPYmplY3R9IG9iaiBPYmplY3QgaW5zdGFuY2UgdGhhdCB3aWxsIGdldCBldmVudCBoYW5kbGluZy5cblx0ICovXG5cdG1peGluKCBvYmogKSB7XG5cdFx0T2JqZWN0LmtleXMoIEV2ZW50RW1pdHRlci5wcm90b3R5cGUgKS5mb3JFYWNoKCBrZXkgPT4ge1xuXHRcdFx0b2JqW2tleV0gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlW2tleV07XG5cdFx0fSApO1xuXHRcdEV2ZW50RW1pdHRlci5pbml0KCBvYmogKTtcblx0fVxufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9ldmVudC1lbWl0dGVyLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7Ozs7OztBQUlBO0FBQ0E7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 2 */
/*!***************************!*\
  !*** ./~/extend/index.js ***!
  \***************************/
/***/ function(module, exports) {

	eval("'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vZXh0ZW5kL2luZGV4LmpzPzM2YzgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbnZhciBpc0FycmF5ID0gZnVuY3Rpb24gaXNBcnJheShhcnIpIHtcblx0aWYgKHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKTtcblx0fVxuXG5cdHJldHVybiB0b1N0ci5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG52YXIgaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG5cdGlmICghb2JqIHx8IHRvU3RyLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR2YXIgaGFzT3duQ29uc3RydWN0b3IgPSBoYXNPd24uY2FsbChvYmosICdjb25zdHJ1Y3RvcicpO1xuXHR2YXIgaGFzSXNQcm90b3R5cGVPZiA9IG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IucHJvdG90eXBlICYmIGhhc093bi5jYWxsKG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsICdpc1Byb3RvdHlwZU9mJyk7XG5cdC8vIE5vdCBvd24gY29uc3RydWN0b3IgcHJvcGVydHkgbXVzdCBiZSBPYmplY3Rcblx0aWYgKG9iai5jb25zdHJ1Y3RvciAmJiAhaGFzT3duQ29uc3RydWN0b3IgJiYgIWhhc0lzUHJvdG90eXBlT2YpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBPd24gcHJvcGVydGllcyBhcmUgZW51bWVyYXRlZCBmaXJzdGx5LCBzbyB0byBzcGVlZCB1cCxcblx0Ly8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXG5cdHZhciBrZXk7XG5cdGZvciAoa2V5IGluIG9iaikgey8qKi99XG5cblx0cmV0dXJuIHR5cGVvZiBrZXkgPT09ICd1bmRlZmluZWQnIHx8IGhhc093bi5jYWxsKG9iaiwga2V5KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXh0ZW5kKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzBdLFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKHR5cGVvZiB0YXJnZXQgPT09ICdib29sZWFuJykge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzFdIHx8IHt9O1xuXHRcdC8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHRpID0gMjtcblx0fSBlbHNlIGlmICgodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJykgfHwgdGFyZ2V0ID09IG51bGwpIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdGZvciAoOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRvcHRpb25zID0gYXJndW1lbnRzW2ldO1xuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAob3B0aW9ucyAhPSBudWxsKSB7XG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuXHRcdFx0XHRzcmMgPSB0YXJnZXRbbmFtZV07XG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zW25hbWVdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKHRhcmdldCAhPT0gY29weSkge1xuXHRcdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRcdGlmIChkZWVwICYmIGNvcHkgJiYgKGlzUGxhaW5PYmplY3QoY29weSkgfHwgKGNvcHlJc0FycmF5ID0gaXNBcnJheShjb3B5KSkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoY29weUlzQXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNBcnJheShzcmMpID8gc3JjIDogW107XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBpc1BsYWluT2JqZWN0KHNyYykgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0XHR0YXJnZXRbbmFtZV0gPSBleHRlbmQoZGVlcCwgY2xvbmUsIGNvcHkpO1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNvcHkgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHR0YXJnZXRbbmFtZV0gPSBjb3B5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9leHRlbmQvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/*!******************************!*\
  !*** ./src/communication.js ***!
  \******************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _cache = __webpack_require__(/*! ./cache */ 0);\n\nvar _cache2 = _interopRequireDefault(_cache);\n\nvar _extend = __webpack_require__(/*! extend */ 2);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* istanbul ignore next */\nvar assign = Object.assign || _extend2.default; //N.B Don't use deep in extend\n\n/**\n * @description Entry point for communication definitions. You can add pre-defined service definitions that allows you to connect\n * and communicate with API endpoints.\n */\n\nvar Communication = function () {\n\t/**\n  * @description Creates a Communication object.\n  */\n\n\tfunction Communication() {\n\t\t_classCallCheck(this, Communication);\n\n\t\tthis.services = new _cache2.default();\n\t}\n\n\t/**\n  * @description Function used to register a communication service definition with a given key.\n  * @param {String} key Key to associate the defined service.\n  * @param {Function} fn Function that sets up and connects you to an endpoint.\n  */\n\n\n\t_createClass(Communication, [{\n\t\tkey: \"registerService\",\n\t\tvalue: function registerService(key, fn) {\n\t\t\tthis.services.add(key, fn);\n\t\t}\n\n\t\t/**\n   * @description Function used to get the API for a service endpoint.\n   * @param {String} key Key defining which communication definition to retrieve.\n   * @param {...Object} configs Object literal containing connect parameters for the requested endpoint. Look in each\n   * service definition for more info.\n   * @returns {Promise<Object>} Returns a promise containing an instance for the requested API if resolved, else an error is thrown.\n   */\n\n\t}, {\n\t\tkey: \"getService\",\n\t\tvalue: function getService(key) {\n\t\t\tfor (var _len = arguments.length, configs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\tconfigs[_key - 1] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar config = assign.apply(undefined, [{}].concat(configs));\n\t\t\tvar fn = this.services.get(key);\n\t\t\treturn fn(config);\n\t\t}\n\t}]);\n\n\treturn Communication;\n}();\n\nexports.default = Communication;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29tbXVuaWNhdGlvbi5qcz8xMzQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBLZXlWYWx1ZUNhY2hlIGZyb20gXCIuL2NhY2hlXCI7XG5pbXBvcnQgZXh0ZW5kIGZyb20gXCJleHRlbmRcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmxldCBhc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGV4dGVuZDsgLy9OLkIgRG9uJ3QgdXNlIGRlZXAgaW4gZXh0ZW5kXG5cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gRW50cnkgcG9pbnQgZm9yIGNvbW11bmljYXRpb24gZGVmaW5pdGlvbnMuIFlvdSBjYW4gYWRkIHByZS1kZWZpbmVkIHNlcnZpY2UgZGVmaW5pdGlvbnMgdGhhdCBhbGxvd3MgeW91IHRvIGNvbm5lY3RcbiAqIGFuZCBjb21tdW5pY2F0ZSB3aXRoIEFQSSBlbmRwb2ludHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW11bmljYXRpb24ge1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBDb21tdW5pY2F0aW9uIG9iamVjdC5cblx0ICovXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuc2VydmljZXMgPSBuZXcgS2V5VmFsdWVDYWNoZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIHJlZ2lzdGVyIGEgY29tbXVuaWNhdGlvbiBzZXJ2aWNlIGRlZmluaXRpb24gd2l0aCBhIGdpdmVuIGtleS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGtleSBLZXkgdG8gYXNzb2NpYXRlIHRoZSBkZWZpbmVkIHNlcnZpY2UuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRoYXQgc2V0cyB1cCBhbmQgY29ubmVjdHMgeW91IHRvIGFuIGVuZHBvaW50LlxuXHQgKi9cblx0cmVnaXN0ZXJTZXJ2aWNlKCBrZXksIGZuICkge1xuXHRcdHRoaXMuc2VydmljZXMuYWRkKCBrZXksIGZuICk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IHRoZSBBUEkgZm9yIGEgc2VydmljZSBlbmRwb2ludC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGtleSBLZXkgZGVmaW5pbmcgd2hpY2ggY29tbXVuaWNhdGlvbiBkZWZpbml0aW9uIHRvIHJldHJpZXZlLlxuXHQgKiBAcGFyYW0gey4uLk9iamVjdH0gY29uZmlncyBPYmplY3QgbGl0ZXJhbCBjb250YWluaW5nIGNvbm5lY3QgcGFyYW1ldGVycyBmb3IgdGhlIHJlcXVlc3RlZCBlbmRwb2ludC4gTG9vayBpbiBlYWNoXG5cdCAqIHNlcnZpY2UgZGVmaW5pdGlvbiBmb3IgbW9yZSBpbmZvLlxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBSZXR1cm5zIGEgcHJvbWlzZSBjb250YWluaW5nIGFuIGluc3RhbmNlIGZvciB0aGUgcmVxdWVzdGVkIEFQSSBpZiByZXNvbHZlZCwgZWxzZSBhbiBlcnJvciBpcyB0aHJvd24uXG5cdCAqL1xuXHRnZXRTZXJ2aWNlKCBrZXksIC4uLmNvbmZpZ3MgKSB7XG5cdFx0bGV0IGNvbmZpZyA9IGFzc2lnbigge30sIC4uLmNvbmZpZ3MgKTtcblx0XHRsZXQgZm4gPSB0aGlzLnNlcnZpY2VzLmdldCgga2V5ICk7XG5cdFx0cmV0dXJuIGZuKCBjb25maWcgKTtcblx0fVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2NvbW11bmljYXRpb24uanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7QUFFQTtBQUNBOzs7Ozs7QUFNQTs7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQTVCQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/*!***********************************!*\
  !*** ./src/services/qix/index.js ***!
  \***********************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _session = __webpack_require__(/*! ./session */ 11);\n\nvar _session2 = _interopRequireDefault(_session);\n\nvar _schema = __webpack_require__(/*! ./schema */ 10);\n\nvar _schema2 = _interopRequireDefault(_schema);\n\nvar _rpc = __webpack_require__(/*! ../../rpc */ 9);\n\nvar _rpc2 = _interopRequireDefault(_rpc);\n\nvar _cache = __webpack_require__(/*! ../../cache */ 0);\n\nvar _cache2 = _interopRequireDefault(_cache);\n\nvar _jsonPatch = __webpack_require__(/*! @qlik/json-patch */ 5);\n\nvar _jsonPatch2 = _interopRequireDefault(_jsonPatch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Qix.\n */\n\nvar Qix = function () {\n\tfunction Qix() {\n\t\t_classCallCheck(this, Qix);\n\n\t\tthis.sessions = new _cache2.default();\n\t}\n\t/**\n  * @description Function used to create a session.\n  * @param {Object} rpc The RPC instance used by the session.\n  * @param {Boolean} delta=true Flag to determine delta handling.\n  * @param {Object} definition The Definition used by the session.\n  * @param {Object} JSONPatch JSON patch object.\n  * @param {Function} Promise The promise constructor.\n  * @returns {Object} Returns an instance of Session.\n  */\n\n\n\t_createClass(Qix, [{\n\t\tkey: \"createSession\",\n\t\tvalue: function createSession(rpc, delta, schema, JSONPatch, Promise, notifications) {\n\t\t\treturn new _session2.default(rpc, delta, schema, JSONPatch, Promise, notifications);\n\t\t}\n\n\t\t/**\n   * @description Function used to create an RPC.\n   * @param {Function} Promise The promise constructor.\n   * @param {String} url The URL used to connect to an endpoint.\n   * @param {Function} createSocket The function callback to create a WebSocket.\n   * @param {Object} sessionConfig - The object to configure the session.\n   * @returns {Object} Returns an instance of RPC.\n   */\n\n\t}, {\n\t\tkey: \"createRPC\",\n\t\tvalue: function createRPC(Promise, url, createSocket, sessionConfig) {\n\t\t\treturn new _rpc2.default(Promise, url, createSocket, sessionConfig);\n\t\t}\n\n\t\t/**\n   * @description Function used to build an URL.\n   * @param {Object} sessionConfig Configuration options for setting up the URL.\n   * @param {Boolean} [sessionConfig.unsecure=false] Set to true if a unsecure WebSocket should be used.\n   * @param {String} [sessionConfig.host] The hostname, for example \"localhost\" or \"foo.bar.com\". If omitted, localhost will used.\n   * @param {String|Number} [sessionConfig.port] The port.\n   * @param {String} [sessionConfig.prefix] The absolute base path to use when connecting. Used for proxy prefixes.\n   * @param {String} [sessionConfig.subpath] The subpath. Used to connect to dataprepservice in a server environment.\n   * @param {String} [sessionConfig.route] Parameter in the ws-url used by the Proxy to route to the correct receiver.\n   * @param {String} [sessionConfig.identity] Identity to use. If omitted, no identity. Used by migration service.\n   * @param {String} [sessionConfig.reloadURI] The reloadURI.\n   * @param {String} [appId] The optional app id.\n   * @returns {String} Returns the URL.\n   */\n\n\t}, {\n\t\tkey: \"buildUrl\",\n\t\tvalue: function buildUrl(sessionConfig, appId) {\n\t\t\tvar unsecure = sessionConfig.unsecure;\n\t\t\tvar host = sessionConfig.host;\n\t\t\tvar port = sessionConfig.port;\n\t\t\tvar prefix = sessionConfig.prefix;\n\t\t\tvar subpath = sessionConfig.subpath;\n\t\t\tvar route = sessionConfig.route;\n\t\t\tvar identity = sessionConfig.identity;\n\t\t\tvar reloadURI = sessionConfig.reloadURI;\n\n\t\t\tvar url = \"\";\n\n\t\t\turl += unsecure ? \"ws\" : \"wss\";\n\t\t\turl += \"://\";\n\t\t\turl += host || \"localhost\";\n\n\t\t\tif (port) {\n\t\t\t\turl += \":\" + port;\n\t\t\t}\n\n\t\t\turl += prefix || \"/\";\n\n\t\t\tif (subpath) {\n\t\t\t\turl += subpath + \"/\";\n\t\t\t}\n\n\t\t\tif (route) {\n\t\t\t\turl += route;\n\t\t\t} else if (appId && appId !== \"\") {\n\t\t\t\turl += \"app/\" + encodeURIComponent(appId);\n\t\t\t}\n\n\t\t\tif (identity) {\n\t\t\t\turl += \"/identity/\" + encodeURIComponent(identity);\n\t\t\t}\n\n\t\t\turl += \"?reloadUri=\" + (reloadURI ? encodeURIComponent(reloadURI) : \"\");\n\n\t\t\treturn url;\n\t\t}\n\n\t\t/**\n   * @description Function used to get a session.\n   * @param {Object} config The object to configure the session.\n   * @param {Boolean} [config.delta=true] The flag to enable/disable delta handling.\n   * @param {Object} config.schema - The Schema definition used by the session.\n   * @param {Object} config.session The session configuration.\n   * @param {Function} config.Promise The promise constructor.\n   * @returns {Object} Returns a session instance.\n   */\n\n\t}, {\n\t\tkey: \"getSession\",\n\t\tvalue: function getSession(config) {\n\t\t\tvar _this = this;\n\n\t\t\tvar url = this.buildUrl(config.session, config.appId);\n\t\t\tvar disableCache = config.session.disableCache;\n\n\n\t\t\tvar session = !disableCache && this.sessions.get(url);\n\t\t\tif (!session) {\n\t\t\t\tvar rpc = this.createRPC(config.Promise, url, config.createSocket, config.session);\n\t\t\t\tsession = this.createSession(rpc, config.delta, config.schema, config.JSONPatch, config.Promise, config.notifications);\n\t\t\t\tif (!disableCache) {\n\t\t\t\t\tthis.sessions.add(url, session);\n\t\t\t\t\tsession.on(\"close\", function () {\n\t\t\t\t\t\treturn _this.sessions.remove(url);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn session;\n\t\t}\n\n\t\t/**\n   * @description Function used to get the global API.\n   * @param {Object} session The session to get the global on.\n   * @param {Object} config The configuration object for how to connect and retrieve end QIX APIs.\n   * @param {Function} config.Promise The promise constructor.\n   * @param {Object} config.schema - The JSON object describing the api.\n   * @param {String} [config.appId] The app id. If omitted, only the global object is returned. Otherwise both global and app object are returned.\n   * @param {Boolean} [config.delta=true] The flag to enable/disable delta handling.\n   * @param {Object} [config.mixins=[]] An array of mixins.\n   * @param {Object} [config.session] The session configuration.\n   * @param {Boolean} [config.session.unsecure=false] Set to true if an unsecure WebSocket should be used.\n   * @param {String} [config.session.host] Host address.\n   * @param {Number} [config.session.port] Port to connect to.\n   * @param {String} [config.session.prefix] The absolute base path to use when connecting. Used for proxy prefixes.\n   * @param {String} [config.session.subpath] The subpath. Used to connect to dataprepservice in a server environment.\n   * @param {String} [config.session.route] Parameter in the ws-url used by the Proxy to route to the correct receiver.\n   * @param {String} [config.session.identity] Identity to use. If omitted, no identity. Used by migration service.\n   * @param {String} [config.session.reloadURI] The reloadURI.\n   * @param {String} [config.session.disableCache=false] Set to true if you want a new Session.\n   * @returns {Promise<Object>} Returns a promise of an instance for the global API.\n   */\n\n\t}, {\n\t\tkey: \"getGlobal\",\n\t\tvalue: function getGlobal(session, config) {\n\t\t\tvar _this2 = this;\n\n\t\t\treturn session.connect().then(function () {\n\t\t\t\tvar args = { handle: -1, id: \"Global\", type: \"Global\", customType: \"Global\", delta: config.delta };\n\t\t\t\tvar globalApi = session.getObjectApi(args);\n\t\t\t\tglobalApi.openApp = globalApi.openDoc = function (appId) {\n\t\t\t\t\tvar user = arguments.length <= 1 || arguments[1] === undefined ? \"\" : arguments[1];\n\t\t\t\t\tvar password = arguments.length <= 2 || arguments[2] === undefined ? \"\" : arguments[2];\n\t\t\t\t\tvar serial = arguments.length <= 3 || arguments[3] === undefined ? \"\" : arguments[3];\n\t\t\t\t\tvar noData = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\n\t\t\t\t\tconfig.session.route = \"\";\n\t\t\t\t\tconfig.appId = appId;\n\n\t\t\t\t\tvar appSession = _this2.getSession(config);\n\n\t\t\t\t\tif (!appSession.apiPromise) {\n\t\t\t\t\t\tappSession.apiPromise = appSession.connect().then(function () {\n\t\t\t\t\t\t\treturn appSession.send({\n\t\t\t\t\t\t\t\tmethod: \"OpenDoc\",\n\t\t\t\t\t\t\t\thandle: -1,\n\t\t\t\t\t\t\t\tparams: [appId, user, password, serial, !!noData],\n\t\t\t\t\t\t\t\tdelta: false\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tmethod: \"OpenDoc\",\n\t\t\t\t\t\t\t\thandle: -1,\n\t\t\t\t\t\t\t\toutKey: -1\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn appSession.apiPromise;\n\t\t\t\t};\n\t\t\t\treturn globalApi;\n\t\t\t}).catch(function (err) {\n\t\t\t\tsession.emit(\"close\", err);\n\t\t\t\tthrow err;\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * @description Function used to get the global API and optionally the app.\n   * @param {Object} session The session to get the global on.\n   * @param {Object} config The object to configure.\n   * @returns {Promise} Returns a promise of a global API or an object containing the global API and the app API.\n   */\n\n\t}, {\n\t\tkey: \"get\",\n\t\tvalue: function get(session, config) {\n\t\t\treturn this.getGlobal(session, config).then(function (g) {\n\t\t\t\treturn config.appId ? g.openApp(config.appId, config.user, config.password, config.serial, config.noData).then(function (app) {\n\t\t\t\t\treturn { global: g, app: app };\n\t\t\t\t}) : g;\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * @description Function used to connect to QIX and return the global API and an optional app API.\n   * @param {Object} config The configuration object for how to connect and retrieve end QIX APIs.\n   * @param {Function} config.Promise The promise constructor.\n   * @param {Function} config.WebSocket The WebSocket constructor.\n   * @param {Object} config.schema - The JSON object describing the api.\n   * @param {String} [config.appId] The app id. If omitted, only the global object is returned. Otherwise both global and app object are returned.\n   * @param {Boolean} [config.delta=true] The flag to enable/disable delta handling.\n   * @param {Object} [config.mixins=[]] An array of mixins.\n   * @param {Object} [config.session] The session configuration.\n   * @param {Boolean} [config.session.unsecure=false] Set to true if an unsecure WebSocket should be used.\n   * @param {String} [config.session.host] Host address.\n   * @param {Number} [config.session.port] Port to connect to.\n   * @param {String} [config.session.prefix] The absolute base path to use when connecting. Used for proxy prefixes.\n   * @param {String} [config.session.subpath] The subpath. Used to connect to dataprepservice in a server environment.\n   * @param {String} [config.session.route] Parameter in the ws-url used by the Proxy to route to the correct receiver.\n   * @param {String} [config.session.identity] Identity to use. If omitted, no identity. Used by migration service.\n   * @param {String} [config.session.reloadURI] The reloadURI.\n   * @param {String} [config.session.disableCache=false] Set to true if you want a new Session.\n   * @returns {Promise<Object>} Returns a promise containing an instance for the global API if resolved. If unresolved, an error will be thrown.\n   */\n\n\t}, {\n\t\tkey: \"connect\",\n\t\tvalue: function connect(config) {\n\t\t\tconfig.session = config.session || {};\n\t\t\tif (!(config.schema instanceof _schema2.default)) {\n\t\t\t\tconfig.schema = new _schema2.default(config.Promise, config.schema);\n\t\t\t}\n\t\t\tconfig.mixins = config.mixins || [];\n\t\t\tconfig.mixins.forEach(function (mixin) {\n\t\t\t\tconfig.schema.registerMixin(mixin);\n\t\t\t});\n\t\t\tconfig.JSONPatch = config.JSONPatch || _jsonPatch2.default;\n\n\t\t\tvar session = this.getSession(config);\n\t\t\treturn this.get(session, config);\n\t\t}\n\t}]);\n\n\treturn Qix;\n}();\n\nexports.default = Qix;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvc2VydmljZXMvcWl4L2luZGV4LmpzPzBjMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNlc3Npb24gZnJvbSBcIi4vc2Vzc2lvblwiO1xuaW1wb3J0IFNjaGVtYSBmcm9tIFwiLi9zY2hlbWFcIjtcbmltcG9ydCBSUEMgZnJvbSBcIi4uLy4uL3JwY1wiO1xuaW1wb3J0IEtleVZhbHVlQ2FjaGUgZnJvbSBcIi4uLy4uL2NhY2hlXCI7XG5pbXBvcnQgUGF0Y2ggZnJvbSBcIkBxbGlrL2pzb24tcGF0Y2hcIjtcblxuLyoqXG4gKiBRaXguXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFFpeCB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5zZXNzaW9ucyA9IG5ldyBLZXlWYWx1ZUNhY2hlKCk7XG5cdH1cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGNyZWF0ZSBhIHNlc3Npb24uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBycGMgVGhlIFJQQyBpbnN0YW5jZSB1c2VkIGJ5IHRoZSBzZXNzaW9uLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGRlbHRhPXRydWUgRmxhZyB0byBkZXRlcm1pbmUgZGVsdGEgaGFuZGxpbmcuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9uIFRoZSBEZWZpbml0aW9uIHVzZWQgYnkgdGhlIHNlc3Npb24uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBKU09OUGF0Y2ggSlNPTiBwYXRjaCBvYmplY3QuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFByb21pc2UgVGhlIHByb21pc2UgY29uc3RydWN0b3IuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgU2Vzc2lvbi5cblx0ICovXG5cdGNyZWF0ZVNlc3Npb24oIHJwYywgZGVsdGEsIHNjaGVtYSwgSlNPTlBhdGNoLCBQcm9taXNlLCBub3RpZmljYXRpb25zICkge1xuXHRcdHJldHVybiBuZXcgU2Vzc2lvbiggcnBjLCBkZWx0YSwgc2NoZW1hLCBKU09OUGF0Y2gsIFByb21pc2UsIG5vdGlmaWNhdGlvbnMgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgYW4gUlBDLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBQcm9taXNlIFRoZSBwcm9taXNlIGNvbnN0cnVjdG9yLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdXNlZCB0byBjb25uZWN0IHRvIGFuIGVuZHBvaW50LlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjcmVhdGVTb2NrZXQgVGhlIGZ1bmN0aW9uIGNhbGxiYWNrIHRvIGNyZWF0ZSBhIFdlYlNvY2tldC5cblx0ICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25Db25maWcgLSBUaGUgb2JqZWN0IHRvIGNvbmZpZ3VyZSB0aGUgc2Vzc2lvbi5cblx0ICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBSUEMuXG5cdCAqL1xuXHRjcmVhdGVSUEMoIFByb21pc2UsIHVybCwgY3JlYXRlU29ja2V0LCBzZXNzaW9uQ29uZmlnICkge1xuXHRcdHJldHVybiBuZXcgUlBDKCBQcm9taXNlLCB1cmwsIGNyZWF0ZVNvY2tldCwgc2Vzc2lvbkNvbmZpZyApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGJ1aWxkIGFuIFVSTC5cblx0ICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb25Db25maWcgQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBzZXR0aW5nIHVwIHRoZSBVUkwuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Nlc3Npb25Db25maWcudW5zZWN1cmU9ZmFsc2VdIFNldCB0byB0cnVlIGlmIGEgdW5zZWN1cmUgV2ViU29ja2V0IHNob3VsZCBiZSB1c2VkLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3Nlc3Npb25Db25maWcuaG9zdF0gVGhlIGhvc3RuYW1lLCBmb3IgZXhhbXBsZSBcImxvY2FsaG9zdFwiIG9yIFwiZm9vLmJhci5jb21cIi4gSWYgb21pdHRlZCwgbG9jYWxob3N0IHdpbGwgdXNlZC5cblx0ICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbc2Vzc2lvbkNvbmZpZy5wb3J0XSBUaGUgcG9ydC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtzZXNzaW9uQ29uZmlnLnByZWZpeF0gVGhlIGFic29sdXRlIGJhc2UgcGF0aCB0byB1c2Ugd2hlbiBjb25uZWN0aW5nLiBVc2VkIGZvciBwcm94eSBwcmVmaXhlcy5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtzZXNzaW9uQ29uZmlnLnN1YnBhdGhdIFRoZSBzdWJwYXRoLiBVc2VkIHRvIGNvbm5lY3QgdG8gZGF0YXByZXBzZXJ2aWNlIGluIGEgc2VydmVyIGVudmlyb25tZW50LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3Nlc3Npb25Db25maWcucm91dGVdIFBhcmFtZXRlciBpbiB0aGUgd3MtdXJsIHVzZWQgYnkgdGhlIFByb3h5IHRvIHJvdXRlIHRvIHRoZSBjb3JyZWN0IHJlY2VpdmVyLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3Nlc3Npb25Db25maWcuaWRlbnRpdHldIElkZW50aXR5IHRvIHVzZS4gSWYgb21pdHRlZCwgbm8gaWRlbnRpdHkuIFVzZWQgYnkgbWlncmF0aW9uIHNlcnZpY2UuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbc2Vzc2lvbkNvbmZpZy5yZWxvYWRVUkldIFRoZSByZWxvYWRVUkkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbYXBwSWRdIFRoZSBvcHRpb25hbCBhcHAgaWQuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFJldHVybnMgdGhlIFVSTC5cblx0ICovXG5cdGJ1aWxkVXJsKCBzZXNzaW9uQ29uZmlnLCBhcHBJZCApIHtcblx0XHRsZXQgeyB1bnNlY3VyZSwgaG9zdCwgcG9ydCwgcHJlZml4LCBzdWJwYXRoLCByb3V0ZSwgaWRlbnRpdHksIHJlbG9hZFVSSSB9ID0gc2Vzc2lvbkNvbmZpZztcblx0XHRsZXQgdXJsID0gXCJcIjtcblxuXHRcdHVybCArPSB1bnNlY3VyZSA/IFwid3NcIiA6IFwid3NzXCI7XG5cdFx0dXJsICs9IFwiOi8vXCI7XG5cdFx0dXJsICs9IGhvc3QgfHwgXCJsb2NhbGhvc3RcIjtcblxuXHRcdGlmKCBwb3J0ICkge1xuXHRcdFx0dXJsICs9IFwiOlwiICsgcG9ydDtcblx0XHR9XG5cblx0XHR1cmwgKz0gcHJlZml4IHx8IFwiL1wiO1xuXG5cdFx0aWYoIHN1YnBhdGggKSB7XG5cdFx0XHR1cmwgKz0gc3VicGF0aCArIFwiL1wiO1xuXHRcdH1cblxuXHRcdGlmKCByb3V0ZSApIHtcblx0XHRcdHVybCArPSByb3V0ZTtcblx0XHR9IGVsc2UgaWYgKCBhcHBJZCAmJiBhcHBJZCAhPT0gXCJcIiApIHtcblx0XHRcdHVybCArPSBcImFwcC9cIiArIGVuY29kZVVSSUNvbXBvbmVudCggYXBwSWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIGlkZW50aXR5ICkge1xuXHRcdFx0dXJsICs9IFwiL2lkZW50aXR5L1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KCBpZGVudGl0eSApO1xuXHRcdH1cblxuXHRcdHVybCArPSBcIj9yZWxvYWRVcmk9XCIgKyAoIHJlbG9hZFVSSSA/IGVuY29kZVVSSUNvbXBvbmVudCggcmVsb2FkVVJJICkgOiBcIlwiICk7XG5cblx0XHRyZXR1cm4gdXJsO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGdldCBhIHNlc3Npb24uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIG9iamVjdCB0byBjb25maWd1cmUgdGhlIHNlc3Npb24uXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kZWx0YT10cnVlXSBUaGUgZmxhZyB0byBlbmFibGUvZGlzYWJsZSBkZWx0YSBoYW5kbGluZy5cblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZy5zY2hlbWEgLSBUaGUgU2NoZW1hIGRlZmluaXRpb24gdXNlZCBieSB0aGUgc2Vzc2lvbi5cblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZy5zZXNzaW9uIFRoZSBzZXNzaW9uIGNvbmZpZ3VyYXRpb24uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpZy5Qcm9taXNlIFRoZSBwcm9taXNlIGNvbnN0cnVjdG9yLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgc2Vzc2lvbiBpbnN0YW5jZS5cblx0ICovXG5cdGdldFNlc3Npb24oIGNvbmZpZyApIHtcblx0XHRjb25zdCB1cmwgPSB0aGlzLmJ1aWxkVXJsKCBjb25maWcuc2Vzc2lvbiwgY29uZmlnLmFwcElkICk7XG5cdFx0Y29uc3QgeyBkaXNhYmxlQ2FjaGUgfSA9IGNvbmZpZy5zZXNzaW9uO1xuXG5cdFx0bGV0IHNlc3Npb24gPSAhZGlzYWJsZUNhY2hlICYmIHRoaXMuc2Vzc2lvbnMuZ2V0KCB1cmwgKTtcblx0XHRpZiAoICFzZXNzaW9uICkge1xuXHRcdFx0Y29uc3QgcnBjID0gdGhpcy5jcmVhdGVSUEMoIGNvbmZpZy5Qcm9taXNlLCB1cmwsIGNvbmZpZy5jcmVhdGVTb2NrZXQsIGNvbmZpZy5zZXNzaW9uICk7XG5cdFx0XHRzZXNzaW9uID0gdGhpcy5jcmVhdGVTZXNzaW9uKCBycGMsIGNvbmZpZy5kZWx0YSwgY29uZmlnLnNjaGVtYSwgY29uZmlnLkpTT05QYXRjaCwgY29uZmlnLlByb21pc2UsIGNvbmZpZy5ub3RpZmljYXRpb25zICk7XG5cdFx0XHRpZiAoICFkaXNhYmxlQ2FjaGUgKSB7XG5cdFx0XHRcdHRoaXMuc2Vzc2lvbnMuYWRkKCB1cmwsIHNlc3Npb24gKTtcblx0XHRcdFx0c2Vzc2lvbi5vbiggXCJjbG9zZVwiLCAoKSA9PiB0aGlzLnNlc3Npb25zLnJlbW92ZSggdXJsICkgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHNlc3Npb247XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IHRoZSBnbG9iYWwgQVBJLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvbiBUaGUgc2Vzc2lvbiB0byBnZXQgdGhlIGdsb2JhbCBvbi5cblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIGhvdyB0byBjb25uZWN0IGFuZCByZXRyaWV2ZSBlbmQgUUlYIEFQSXMuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpZy5Qcm9taXNlIFRoZSBwcm9taXNlIGNvbnN0cnVjdG9yLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnLnNjaGVtYSAtIFRoZSBKU09OIG9iamVjdCBkZXNjcmliaW5nIHRoZSBhcGkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLmFwcElkXSBUaGUgYXBwIGlkLiBJZiBvbWl0dGVkLCBvbmx5IHRoZSBnbG9iYWwgb2JqZWN0IGlzIHJldHVybmVkLiBPdGhlcndpc2UgYm90aCBnbG9iYWwgYW5kIGFwcCBvYmplY3QgYXJlIHJldHVybmVkLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuZGVsdGE9dHJ1ZV0gVGhlIGZsYWcgdG8gZW5hYmxlL2Rpc2FibGUgZGVsdGEgaGFuZGxpbmcuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm1peGlucz1bXV0gQW4gYXJyYXkgb2YgbWl4aW5zLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5zZXNzaW9uXSBUaGUgc2Vzc2lvbiBjb25maWd1cmF0aW9uLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25maWcuc2Vzc2lvbi51bnNlY3VyZT1mYWxzZV0gU2V0IHRvIHRydWUgaWYgYW4gdW5zZWN1cmUgV2ViU29ja2V0IHNob3VsZCBiZSB1c2VkLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zZXNzaW9uLmhvc3RdIEhvc3QgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtjb25maWcuc2Vzc2lvbi5wb3J0XSBQb3J0IHRvIGNvbm5lY3QgdG8uXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNlc3Npb24ucHJlZml4XSBUaGUgYWJzb2x1dGUgYmFzZSBwYXRoIHRvIHVzZSB3aGVuIGNvbm5lY3RpbmcuIFVzZWQgZm9yIHByb3h5IHByZWZpeGVzLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zZXNzaW9uLnN1YnBhdGhdIFRoZSBzdWJwYXRoLiBVc2VkIHRvIGNvbm5lY3QgdG8gZGF0YXByZXBzZXJ2aWNlIGluIGEgc2VydmVyIGVudmlyb25tZW50LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zZXNzaW9uLnJvdXRlXSBQYXJhbWV0ZXIgaW4gdGhlIHdzLXVybCB1c2VkIGJ5IHRoZSBQcm94eSB0byByb3V0ZSB0byB0aGUgY29ycmVjdCByZWNlaXZlci5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2Vzc2lvbi5pZGVudGl0eV0gSWRlbnRpdHkgdG8gdXNlLiBJZiBvbWl0dGVkLCBubyBpZGVudGl0eS4gVXNlZCBieSBtaWdyYXRpb24gc2VydmljZS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2Vzc2lvbi5yZWxvYWRVUkldIFRoZSByZWxvYWRVUkkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNlc3Npb24uZGlzYWJsZUNhY2hlPWZhbHNlXSBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCBhIG5ldyBTZXNzaW9uLlxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBSZXR1cm5zIGEgcHJvbWlzZSBvZiBhbiBpbnN0YW5jZSBmb3IgdGhlIGdsb2JhbCBBUEkuXG5cdCAqL1xuXHRnZXRHbG9iYWwoIHNlc3Npb24sIGNvbmZpZyApIHtcblx0XHRyZXR1cm4gc2Vzc2lvbi5jb25uZWN0KCkudGhlbiggKCkgPT4ge1xuXHRcdFx0bGV0IGFyZ3MgPSB7IGhhbmRsZTogLTEsIGlkOiBcIkdsb2JhbFwiLCB0eXBlOiBcIkdsb2JhbFwiLCBjdXN0b21UeXBlOiBcIkdsb2JhbFwiLCBkZWx0YTogY29uZmlnLmRlbHRhIH07XG5cdFx0XHRsZXQgZ2xvYmFsQXBpID0gc2Vzc2lvbi5nZXRPYmplY3RBcGkoIGFyZ3MgKTtcblx0XHRcdGdsb2JhbEFwaS5vcGVuQXBwID0gZ2xvYmFsQXBpLm9wZW5Eb2MgPSAoIGFwcElkLCB1c2VyID0gXCJcIiwgcGFzc3dvcmQgPSBcIlwiLCBzZXJpYWwgPSBcIlwiLCBub0RhdGEgPSBmYWxzZSApID0+IHtcblx0XHRcdFx0Y29uZmlnLnNlc3Npb24ucm91dGUgPSBcIlwiO1xuXHRcdFx0XHRjb25maWcuYXBwSWQgPSBhcHBJZDtcblxuXHRcdFx0XHRsZXQgYXBwU2Vzc2lvbiA9IHRoaXMuZ2V0U2Vzc2lvbiggY29uZmlnICk7XG5cblx0XHRcdFx0aWYgKCAhYXBwU2Vzc2lvbi5hcGlQcm9taXNlICkge1xuXHRcdFx0XHRcdGFwcFNlc3Npb24uYXBpUHJvbWlzZSA9IGFwcFNlc3Npb24uY29ubmVjdCgpLnRoZW4oICgpID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBhcHBTZXNzaW9uLnNlbmQoIHtcblx0XHRcdFx0XHRcdFx0bWV0aG9kOiBcIk9wZW5Eb2NcIixcblx0XHRcdFx0XHRcdFx0aGFuZGxlOiAtMSxcblx0XHRcdFx0XHRcdFx0cGFyYW1zOiBbYXBwSWQsIHVzZXIsIHBhc3N3b3JkLCBzZXJpYWwsICEhbm9EYXRhXSxcblx0XHRcdFx0XHRcdFx0ZGVsdGE6IGZhbHNlXG5cdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdG1ldGhvZDogXCJPcGVuRG9jXCIsXG5cdFx0XHRcdFx0XHRcdGhhbmRsZTogLTEsXG5cdFx0XHRcdFx0XHRcdG91dEtleTogLTFcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYXBwU2Vzc2lvbi5hcGlQcm9taXNlO1xuXHRcdFx0fTtcblx0XHRcdHJldHVybiBnbG9iYWxBcGk7XG5cdFx0fSApLmNhdGNoKCBlcnIgPT4ge1xuXHRcdFx0c2Vzc2lvbi5lbWl0KCBcImNsb3NlXCIsIGVyciApO1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBnZXQgdGhlIGdsb2JhbCBBUEkgYW5kIG9wdGlvbmFsbHkgdGhlIGFwcC5cblx0ICogQHBhcmFtIHtPYmplY3R9IHNlc3Npb24gVGhlIHNlc3Npb24gdG8gZ2V0IHRoZSBnbG9iYWwgb24uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIG9iamVjdCB0byBjb25maWd1cmUuXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSBvZiBhIGdsb2JhbCBBUEkgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGdsb2JhbCBBUEkgYW5kIHRoZSBhcHAgQVBJLlxuXHQgKi9cblx0Z2V0KCBzZXNzaW9uLCBjb25maWcgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0R2xvYmFsKCBzZXNzaW9uLCBjb25maWcgKS50aGVuKCBnID0+IHtcblx0XHRcdHJldHVybiBjb25maWcuYXBwSWQgP1xuXHRcdFx0XHRnLm9wZW5BcHAoIGNvbmZpZy5hcHBJZCwgY29uZmlnLnVzZXIsIGNvbmZpZy5wYXNzd29yZCwgY29uZmlnLnNlcmlhbCwgY29uZmlnLm5vRGF0YSApLnRoZW4oIGFwcCA9PiB7IHJldHVybiB7IGdsb2JhbDogZywgYXBwOiBhcHAgfTsgfSApIDpcblx0XHRcdFx0Zztcblx0XHR9ICk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gY29ubmVjdCB0byBRSVggYW5kIHJldHVybiB0aGUgZ2xvYmFsIEFQSSBhbmQgYW4gb3B0aW9uYWwgYXBwIEFQSS5cblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIGhvdyB0byBjb25uZWN0IGFuZCByZXRyaWV2ZSBlbmQgUUlYIEFQSXMuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpZy5Qcm9taXNlIFRoZSBwcm9taXNlIGNvbnN0cnVjdG9yLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWcuV2ViU29ja2V0IFRoZSBXZWJTb2NrZXQgY29uc3RydWN0b3IuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcuc2NoZW1hIC0gVGhlIEpTT04gb2JqZWN0IGRlc2NyaWJpbmcgdGhlIGFwaS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuYXBwSWRdIFRoZSBhcHAgaWQuIElmIG9taXR0ZWQsIG9ubHkgdGhlIGdsb2JhbCBvYmplY3QgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSBib3RoIGdsb2JhbCBhbmQgYXBwIG9iamVjdCBhcmUgcmV0dXJuZWQuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5kZWx0YT10cnVlXSBUaGUgZmxhZyB0byBlbmFibGUvZGlzYWJsZSBkZWx0YSBoYW5kbGluZy5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcubWl4aW5zPVtdXSBBbiBhcnJheSBvZiBtaXhpbnMuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnNlc3Npb25dIFRoZSBzZXNzaW9uIGNvbmZpZ3VyYXRpb24uXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbmZpZy5zZXNzaW9uLnVuc2VjdXJlPWZhbHNlXSBTZXQgdG8gdHJ1ZSBpZiBhbiB1bnNlY3VyZSBXZWJTb2NrZXQgc2hvdWxkIGJlIHVzZWQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNlc3Npb24uaG9zdF0gSG9zdCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2NvbmZpZy5zZXNzaW9uLnBvcnRdIFBvcnQgdG8gY29ubmVjdCB0by5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2Vzc2lvbi5wcmVmaXhdIFRoZSBhYnNvbHV0ZSBiYXNlIHBhdGggdG8gdXNlIHdoZW4gY29ubmVjdGluZy4gVXNlZCBmb3IgcHJveHkgcHJlZml4ZXMuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNlc3Npb24uc3VicGF0aF0gVGhlIHN1YnBhdGguIFVzZWQgdG8gY29ubmVjdCB0byBkYXRhcHJlcHNlcnZpY2UgaW4gYSBzZXJ2ZXIgZW52aXJvbm1lbnQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZmlnLnNlc3Npb24ucm91dGVdIFBhcmFtZXRlciBpbiB0aGUgd3MtdXJsIHVzZWQgYnkgdGhlIFByb3h5IHRvIHJvdXRlIHRvIHRoZSBjb3JyZWN0IHJlY2VpdmVyLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zZXNzaW9uLmlkZW50aXR5XSBJZGVudGl0eSB0byB1c2UuIElmIG9taXR0ZWQsIG5vIGlkZW50aXR5LiBVc2VkIGJ5IG1pZ3JhdGlvbiBzZXJ2aWNlLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5zZXNzaW9uLnJlbG9hZFVSSV0gVGhlIHJlbG9hZFVSSS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtjb25maWcuc2Vzc2lvbi5kaXNhYmxlQ2FjaGU9ZmFsc2VdIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IGEgbmV3IFNlc3Npb24uXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFJldHVybnMgYSBwcm9taXNlIGNvbnRhaW5pbmcgYW4gaW5zdGFuY2UgZm9yIHRoZSBnbG9iYWwgQVBJIGlmIHJlc29sdmVkLiBJZiB1bnJlc29sdmVkLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cblx0ICovXG5cdGNvbm5lY3QoIGNvbmZpZyApIHtcblx0XHRjb25maWcuc2Vzc2lvbiA9IGNvbmZpZy5zZXNzaW9uIHx8IHt9O1xuXHRcdGlmKCAhKCBjb25maWcuc2NoZW1hIGluc3RhbmNlb2YgU2NoZW1hICkgKSB7XG5cdFx0XHRjb25maWcuc2NoZW1hID0gbmV3IFNjaGVtYSggY29uZmlnLlByb21pc2UsIGNvbmZpZy5zY2hlbWEgKTtcblx0XHR9XG5cdFx0Y29uZmlnLm1peGlucyA9IGNvbmZpZy5taXhpbnMgfHwgW107XG5cdFx0Y29uZmlnLm1peGlucy5mb3JFYWNoKCBtaXhpbiA9PiB7XG5cdFx0XHRjb25maWcuc2NoZW1hLnJlZ2lzdGVyTWl4aW4oIG1peGluICk7XG5cdFx0fSApO1xuXHRcdGNvbmZpZy5KU09OUGF0Y2ggPSBjb25maWcuSlNPTlBhdGNoIHx8IFBhdGNoO1xuXG5cdFx0bGV0IHNlc3Npb24gPSB0aGlzLmdldFNlc3Npb24oIGNvbmZpZyApO1xuXHRcdHJldHVybiB0aGlzLmdldCggc2Vzc2lvbiwgY29uZmlnICk7XG5cdH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9zZXJ2aWNlcy9xaXgvaW5kZXguanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFJQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FBVUE7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0JBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQTdNQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 5 */
/*!*****************************************!*\
  !*** ./~/@qlik/json-patch/src/index.js ***!
  \*****************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*global module, define, require*/\n( function ( root, factory ) {\n\tif ( true ) {\n\t\t// amd:\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! extend */ 2)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if ( typeof exports === \"object\" ) {\n\t\t// common.js:\n\t\tmodule.exports = factory( require( \"extend\" ) );\n\t} else {\n\t\t// browser (root = window):\n\t\troot.JSONPatch = factory( root.extend );\n\t}\n}( this, function ( extend ) {\n\textend = extend.bind( null, true );\n\n\tvar JSONPatch = {};\n\tvar isObject = function ( v ) { return v != null && !Array.isArray( v ) && typeof v === \"object\"; };\n\tvar isArray = Array.isArray;\n\tvar isUndef = function ( v ) { return typeof v === \"undefined\"; };\n\tvar isFunction = function ( v ) { return typeof v === \"function\"; };\n\n\t/**\n\t* Generate an exact duplicate (with no references) of a specific value.\n\t*\n\t* @private\n\t* @param {Object} The value to duplicate\n\t* @returns {Object} a unique, duplicated value\n\t*/\n\tfunction generateValue ( val ) {\n\t\tif ( val ) {\n\t\t\tval = extend( {}, { val: val } ).val;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* An additional type checker used to determine if the property is of internal\n\t* use or not a type that can be translated into JSON (like functions).\n\t*\n\t* @private\n\t* @param {Object} obj The object which has the property to check\n\t* @param {String} The property name to check\n\t* @returns {Boolean} Whether the property is deemed special or not\n\t*/\n\tfunction isSpecialProperty( obj, key ) {\n\t\treturn isFunction( obj[key] ) ||\n\t\t\tkey.substring( 0, 2 ) === \"$$\" ||\n\t\t\tkey.substring( 0, 1 ) === \"_\";\n\t}\n\n\t/**\n\t* Finds the parent object from a JSON-Pointer (\"/foo/bar/baz\" = \"bar\" is \"baz\" parent),\n\t* also creates the object structure needed.\n\t*\n\t* @private\n\t* @param {Object} data The root object to traverse through\n\t* @param {String} The JSON-Pointer string to use when traversing\n\t* @returns {Object} The parent object\n\t*/\n\tfunction getParent( data, str ) {\n\t\tvar seperator = \"/\",\n\t\t\tparts = str.substring( 1 ).split( seperator ).slice( 0, -1 ),\n\t\t\tnumPart;\n\n\t\tparts.forEach( function ( part, i ) {\n\t\t\tif ( i === parts.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnumPart = +part;\n\t\t\tdata = data[numPart || part] = isUndef( data[numPart || part] ) ?\n\t\t\t\t!isNaN( numPart ) ?\n\t\t\t\t\t[] :\n\t\t\t\t\t{} :\n\t\t\t\tdata[part];\n\t\t} );\n\n\t\treturn data;\n\t}\n\n\t/**\n\t* Cleans an object of all its properties, unless they're deemed special or\n\t* cannot be removed by configuration.\n\t*\n\t* @private\n\t* @param {Object} obj The object to clean\n\t*/\n\tfunction emptyObject( obj ) {\n\t\tObject.keys( obj ).forEach( function ( key ) {\n\t\t\tvar config = Object.getOwnPropertyDescriptor( obj, key );\n\n\t\t\tif ( config.configurable && !isSpecialProperty( obj, key ) ) {\n\t\t\t\tdelete obj[key];\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t* Compare an object with another, could be object, array, number, string, bool.\n\t*\n\t* @param {Object} a The first object to compare\n\t* @param {Object} a The second object to compare\n\t* @returns {Boolean} Whether the objects are identical\n\t*/\n\tfunction compare( a, b ) {\n\t\tvar isIdentical = true,\n\t\t\ti, l;\n\n\t\tif ( isObject( a ) && isObject( b ) ) {\n\t\t\tif ( Object.keys( a ).length !== Object.keys( b ).length ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tObject.keys( a ).forEach( function ( key ) {\n\t\t\t\tif ( !compare( a[key], b[key] ) ) {\n\t\t\t\t\tisIdentical = false;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn isIdentical;\n\t\t} else if ( isArray( a ) && isArray( b ) ) {\n\t\t\tif ( a.length !== b.length ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor ( i = 0, l = a.length; i < l; i++ ) {\n\t\t\t\tif ( !compare( a[i], b[i] ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn a === b;\n\t\t}\n\t}\n\n\t/**\n\t* Generates patches by comparing two arrays.\n\t*\n\t* @private\n\t* @param {Array} oldA The old (original) array, which will be patched\n\t* @param {Array} newA The new array, which will be used to compare against\n\t* @returns {Array} An array of patches (if any)\n\t*/\n\tfunction patchArray( original, newA, basePath ) {\n\t\tvar patches = [],\n\t\t\toldA = original.slice(),\n\t\t\ti, l, tmpIdx = -1;\n\n\t\tfunction findIndex( a, id, idx ) {\n\t\t\tif ( a[idx] && isUndef( a[idx].qInfo ) ) {\n\t\t\t\treturn null;\n\t\t\t} else if ( a[idx] && a[idx].qInfo.qId === id ) {\n\t\t\t\t// shortcut if identical\n\t\t\t\treturn idx;\n\t\t\t}\n\t\t\tfor ( var ii = 0, ll = a.length; ii < ll; ii++ ) {\n\t\t\t\tif ( a[ii] && a[ii].qInfo.qId === id ) {\n\t\t\t\t\treturn ii;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tif ( compare( newA, oldA ) ) {\n\t\t\t// array is unchanged\n\t\t\treturn patches;\n\t\t}\n\n\t\tif ( !isUndef( newA[0] ) && isUndef( newA[0].qInfo ) ) {\n\t\t\t// we cannot create patches without unique identifiers, replace array...\n\t\t\tpatches.push( {\n\t\t\t\top: \"replace\",\n\t\t\t\tpath: basePath,\n\t\t\t\tvalue: newA\n\t\t\t} );\n\t\t\treturn patches;\n\t\t}\n\n\t\tfor ( i = oldA.length - 1; i >= 0; --i ) {\n\t\t\ttmpIdx = findIndex( newA, oldA[i].qInfo && oldA[i].qInfo.qId, i );\n\t\t\tif ( tmpIdx === -1 ) {\n\t\t\t\tpatches.push( {\n\t\t\t\t\top: \"remove\",\n\t\t\t\t\tpath: basePath + \"/\" + i\n\t\t\t\t} );\n\t\t\t\toldA.splice( i, 1 );\n\t\t\t} else {\n\t\t\t\tpatches = patches.concat( JSONPatch.generate( oldA[i], newA[tmpIdx], basePath + \"/\" + i ) );\n\t\t\t}\n\t\t}\n\n\t\tfor ( i = 0, l = newA.length; i < l; ++i ) {\n\t\t\ttmpIdx = findIndex( oldA, newA[i].qInfo && newA[i].qInfo.qId );\n\t\t\tif ( tmpIdx === -1 ) {\n\t\t\t\tpatches.push( {\n\t\t\t\t\top: \"add\",\n\t\t\t\t\tpath: basePath + \"/\" + i,\n\t\t\t\t\tvalue: newA[i]\n\t\t\t\t} );\n\t\t\t\toldA.splice( i, 0, newA[i] );\n\t\t\t} else if ( tmpIdx !== i ) {\n\t\t\t\tpatches.push( {\n\t\t\t\t\top: \"move\",\n\t\t\t\t\tpath: basePath + \"/\" + i,\n\t\t\t\t\tfrom: basePath + \"/\" + tmpIdx\n\t\t\t\t} );\n\t\t\t\toldA.splice( i, 0, oldA.splice( tmpIdx, 1 )[0] );\n\t\t\t}\n\t\t}\n\t\treturn patches;\n\t}\n\n\t/**\n\t* Generate an array of JSON-Patch:es following the JSON-Patch Specification Draft.\n\t*\n\t* See [specification draft](http://tools.ietf.org/html/draft-ietf-appsawg-json-patch-10)\n\t*\n\t* Does NOT currently generate patches for arrays (will replace them)\n\t*\n\t* @param {Object} original The object to patch to\n\t* @param {Object} newData The object to patch from\n\t* @param {String} [basePath] The base path to use when generating the paths for the patches (normally not used)\n\t* @returns {Array} An array of patches\n\t*/\n\tJSONPatch.generate = function ( original, newData, basePath ) {\n\t\tbasePath = basePath || \"\";\n\t\tvar patches = [];\n\n\t\tObject.keys( newData ).forEach( function ( key ) {\n\t\t\tvar val = generateValue( newData[key] ),\n\t\t\t\toldVal = original[key],\n\t\t\t\ttmpPath = basePath + \"/\" + key;\n\n\t\t\tif ( compare( val, oldVal ) || isSpecialProperty( newData, key ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( isUndef( oldVal ) ) {\n\t\t\t\t// property does not previously exist\n\t\t\t\tpatches.push( {\n\t\t\t\t\top: \"add\",\n\t\t\t\t\tpath: tmpPath,\n\t\t\t\t\tvalue: val\n\t\t\t\t} );\n\t\t\t} else if ( isObject( val ) && isObject( oldVal ) ) {\n\t\t\t\t// we need to generate sub-patches for this, since it already exist\n\t\t\t\tpatches = patches.concat( JSONPatch.generate( oldVal, val, tmpPath ) );\n\t\t\t} else if ( isArray( val ) && isArray( oldVal ) ) {\n\t\t\t\tpatches = patches.concat( patchArray( oldVal, val, tmpPath ) );\n\t\t\t} else {\n\t\t\t\t// it's a simple property (bool, string, number)\n\t\t\t\tpatches.push( {\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: basePath + \"/\" + key,\n\t\t\t\t\tvalue: val\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\tObject.keys( original ).forEach( function ( key ) {\n\t\t\tif ( isUndef( newData[key] ) && !isSpecialProperty( original, key ) ) {\n\t\t\t\t// this property does not exist anymore\n\t\t\t\tpatches.push( {\n\t\t\t\t\top: \"remove\",\n\t\t\t\t\tpath: basePath + \"/\" + key\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\treturn patches;\n\t};\n\n\t/**\n\t* Apply a list of patches to an object.\n\t*\n\t* @param {Object} original The object to patch\n\t* @param {Array} patches The list of patches to apply\n\t*/\n\tJSONPatch.apply = function ( original, patches ) {\n\t\tpatches.forEach( function ( patch ) {\n\t\t\tvar parent = getParent( original, patch.path ),\n\t\t\t\tkey = patch.path.split( \"/\" ).splice( -1 )[0],\n\t\t\t\ttarget = key && isNaN( +key ) ? parent[key] : parent[+key] || parent,\n\t\t\t\tfrom = patch.from ? patch.from.split( \"/\" ).splice( -1 )[0] : null;\n\n\t\t\tif ( patch.path === \"/\" ) {\n\t\t\t\tparent = null;\n\t\t\t\ttarget = original;\n\t\t\t}\n\n\t\t\tif ( patch.op === \"add\" || patch.op === \"replace\" ) {\n\t\t\t\tif ( isArray( parent ) ) {\n\t\t\t\t\t// trust indexes from patches, so don't replace the index if it's an add\n\t\t\t\t\tif ( key === \"-\" ) {\n\t\t\t\t\t\tkey = parent.length;\n\t\t\t\t\t}\n\t\t\t\t\tparent.splice( +key, patch.op === \"add\" ? 0 : 1, patch.value );\n\t\t\t\t} else if ( isArray( target ) && isArray( patch.value ) ) {\n\t\t\t\t\tvar newValues = patch.value.slice();\n\t\t\t\t\t// keep array reference if possible...\n\t\t\t\t\ttarget.length = 0;\n\t\t\t\t\ttarget.push.apply( target, newValues );\n\t\t\t\t} else if ( isObject( target ) && isObject( patch.value ) ) {\n\t\t\t\t\t// keep object reference if possible...\n\t\t\t\t\temptyObject( target );\n\t\t\t\t\textend( target, patch.value );\n\t\t\t\t} else if ( !parent ) {\n\t\t\t\t\tthrow new Error( \"Patchee is not an object we can patch\" );\n\t\t\t\t} else {\n\t\t\t\t\t// simple value\n\t\t\t\t\tparent[key] = patch.value;\n\t\t\t\t}\n\t\t\t} else if ( patch.op === \"move\" ) {\n\t\t\t\tvar oldParent = getParent( original, patch.from );\n\t\t\t\tif ( isArray( parent ) ) {\n\t\t\t\t\tparent.splice( +key, 0, oldParent.splice( +from, 1 )[0] );\n\t\t\t\t} else {\n\t\t\t\t\tparent[key] = oldParent[from];\n\t\t\t\t\tdelete oldParent[from];\n\t\t\t\t}\n\t\t\t} else if ( patch.op === \"remove\" ) {\n\t\t\t\tif ( isArray( parent ) ) {\n\t\t\t\t\tparent.splice( +key, 1 );\n\t\t\t\t} else {\n\t\t\t\t\tdelete parent[key];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t};\n\n\t/**\n\t* Deep clone an object.\n\t*\n\t* @param {Object} obj The object to clone\n\t* @returns {Object} A new object identical to the `obj`\n\t*/\n\tJSONPatch.clone = function ( obj ) {\n\t\treturn extend( {}, obj );\n\t};\n\n\t/**\n\t* Creates a JSON-patch.\n\t*\n\t* @param {String} op The operation of the patch. Available values: \"add\", \"remove\", \"move\"\n\t* @param {Object} [val] The value to set the `path` to. If `op` is `move`, `val` is the \"from JSON-path\" path\n\t* @param {String} path The JSON-path for the property to change (e.g. \"/qHyperCubeDef/columnOrder\")\n\t* @returns {Object} A patch following the JSON-patch specification\n\t*/\n\tJSONPatch.createPatch = function ( op, val, path ) {\n\t\tvar patch = {\n\t\t\top: op.toLowerCase(),\n\t\t\tpath: path\n\t\t};\n\t\tif ( patch.op === \"move\" ) {\n\t\t\tpatch.from = val;\n\t\t} else if ( typeof val !== \"undefined\" ) {\n\t\t\tpatch.value = val;\n\t\t}\n\t\treturn patch;\n\t};\n\n\t/**\n\t* Apply the differences of two objects (keeping references if possible).\n\t* Identical to running `JSONPatch.apply(original, JSONPatch.generate(original, newData));`\n\t*\n\t* @param {Object} original The object to update/patch\n\t* @param {Object} newData the object to diff against\n\t*\n\t* @example\n\t* var obj1 = { foo: [1,2,3], bar: { baz: true, qux: 1 } };\n\t* var obj2 = { foo: [4,5,6], bar: { baz: false } };\n\t* JSONPatch.updateObject(obj1, obj2);\n\t* // => { foo: [4,5,6], bar: { baz: false } };\n\t*/\n\tJSONPatch.updateObject = function ( original, newData ) {\n\t\tif ( !Object.keys( original ).length ) {\n\t\t\textend( original, newData );\n\t\t\treturn;\n\t\t}\n\t\tJSONPatch.apply( original, JSONPatch.generate( original, newData ) );\n\t};\n\n\treturn JSONPatch;\n} ) );\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vQHFsaWsvanNvbi1wYXRjaC9zcmMvaW5kZXguanM/ZjQ5NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmdsb2JhbCBtb2R1bGUsIGRlZmluZSwgcmVxdWlyZSovXG4oIGZ1bmN0aW9uICggcm9vdCwgZmFjdG9yeSApIHtcblx0aWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0XHQvLyBhbWQ6XG5cdFx0ZGVmaW5lKCBbXCJleHRlbmRcIl0sIGZhY3RvcnkgKTtcblx0fSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0Ly8gY29tbW9uLmpzOlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSggcmVxdWlyZSggXCJleHRlbmRcIiApICk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gYnJvd3NlciAocm9vdCA9IHdpbmRvdyk6XG5cdFx0cm9vdC5KU09OUGF0Y2ggPSBmYWN0b3J5KCByb290LmV4dGVuZCApO1xuXHR9XG59KCB0aGlzLCBmdW5jdGlvbiAoIGV4dGVuZCApIHtcblx0ZXh0ZW5kID0gZXh0ZW5kLmJpbmQoIG51bGwsIHRydWUgKTtcblxuXHR2YXIgSlNPTlBhdGNoID0ge307XG5cdHZhciBpc09iamVjdCA9IGZ1bmN0aW9uICggdiApIHsgcmV0dXJuIHYgIT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSggdiApICYmIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiOyB9O1xuXHR2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cdHZhciBpc1VuZGVmID0gZnVuY3Rpb24gKCB2ICkgeyByZXR1cm4gdHlwZW9mIHYgPT09IFwidW5kZWZpbmVkXCI7IH07XG5cdHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gKCB2ICkgeyByZXR1cm4gdHlwZW9mIHYgPT09IFwiZnVuY3Rpb25cIjsgfTtcblxuXHQvKipcblx0KiBHZW5lcmF0ZSBhbiBleGFjdCBkdXBsaWNhdGUgKHdpdGggbm8gcmVmZXJlbmNlcykgb2YgYSBzcGVjaWZpYyB2YWx1ZS5cblx0KlxuXHQqIEBwcml2YXRlXG5cdCogQHBhcmFtIHtPYmplY3R9IFRoZSB2YWx1ZSB0byBkdXBsaWNhdGVcblx0KiBAcmV0dXJucyB7T2JqZWN0fSBhIHVuaXF1ZSwgZHVwbGljYXRlZCB2YWx1ZVxuXHQqL1xuXHRmdW5jdGlvbiBnZW5lcmF0ZVZhbHVlICggdmFsICkge1xuXHRcdGlmICggdmFsICkge1xuXHRcdFx0dmFsID0gZXh0ZW5kKCB7fSwgeyB2YWw6IHZhbCB9ICkudmFsO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0LyoqXG5cdCogQW4gYWRkaXRpb25hbCB0eXBlIGNoZWNrZXIgdXNlZCB0byBkZXRlcm1pbmUgaWYgdGhlIHByb3BlcnR5IGlzIG9mIGludGVybmFsXG5cdCogdXNlIG9yIG5vdCBhIHR5cGUgdGhhdCBjYW4gYmUgdHJhbnNsYXRlZCBpbnRvIEpTT04gKGxpa2UgZnVuY3Rpb25zKS5cblx0KlxuXHQqIEBwcml2YXRlXG5cdCogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHdoaWNoIGhhcyB0aGUgcHJvcGVydHkgdG8gY2hlY2tcblx0KiBAcGFyYW0ge1N0cmluZ30gVGhlIHByb3BlcnR5IG5hbWUgdG8gY2hlY2tcblx0KiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgcHJvcGVydHkgaXMgZGVlbWVkIHNwZWNpYWwgb3Igbm90XG5cdCovXG5cdGZ1bmN0aW9uIGlzU3BlY2lhbFByb3BlcnR5KCBvYmosIGtleSApIHtcblx0XHRyZXR1cm4gaXNGdW5jdGlvbiggb2JqW2tleV0gKSB8fFxuXHRcdFx0a2V5LnN1YnN0cmluZyggMCwgMiApID09PSBcIiQkXCIgfHxcblx0XHRcdGtleS5zdWJzdHJpbmcoIDAsIDEgKSA9PT0gXCJfXCI7XG5cdH1cblxuXHQvKipcblx0KiBGaW5kcyB0aGUgcGFyZW50IG9iamVjdCBmcm9tIGEgSlNPTi1Qb2ludGVyIChcIi9mb28vYmFyL2JhelwiID0gXCJiYXJcIiBpcyBcImJhelwiIHBhcmVudCksXG5cdCogYWxzbyBjcmVhdGVzIHRoZSBvYmplY3Qgc3RydWN0dXJlIG5lZWRlZC5cblx0KlxuXHQqIEBwcml2YXRlXG5cdCogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIHJvb3Qgb2JqZWN0IHRvIHRyYXZlcnNlIHRocm91Z2hcblx0KiBAcGFyYW0ge1N0cmluZ30gVGhlIEpTT04tUG9pbnRlciBzdHJpbmcgdG8gdXNlIHdoZW4gdHJhdmVyc2luZ1xuXHQqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBwYXJlbnQgb2JqZWN0XG5cdCovXG5cdGZ1bmN0aW9uIGdldFBhcmVudCggZGF0YSwgc3RyICkge1xuXHRcdHZhciBzZXBlcmF0b3IgPSBcIi9cIixcblx0XHRcdHBhcnRzID0gc3RyLnN1YnN0cmluZyggMSApLnNwbGl0KCBzZXBlcmF0b3IgKS5zbGljZSggMCwgLTEgKSxcblx0XHRcdG51bVBhcnQ7XG5cblx0XHRwYXJ0cy5mb3JFYWNoKCBmdW5jdGlvbiAoIHBhcnQsIGkgKSB7XG5cdFx0XHRpZiAoIGkgPT09IHBhcnRzLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0bnVtUGFydCA9ICtwYXJ0O1xuXHRcdFx0ZGF0YSA9IGRhdGFbbnVtUGFydCB8fCBwYXJ0XSA9IGlzVW5kZWYoIGRhdGFbbnVtUGFydCB8fCBwYXJ0XSApID9cblx0XHRcdFx0IWlzTmFOKCBudW1QYXJ0ICkgP1xuXHRcdFx0XHRcdFtdIDpcblx0XHRcdFx0XHR7fSA6XG5cdFx0XHRcdGRhdGFbcGFydF07XG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblxuXHQvKipcblx0KiBDbGVhbnMgYW4gb2JqZWN0IG9mIGFsbCBpdHMgcHJvcGVydGllcywgdW5sZXNzIHRoZXkncmUgZGVlbWVkIHNwZWNpYWwgb3Jcblx0KiBjYW5ub3QgYmUgcmVtb3ZlZCBieSBjb25maWd1cmF0aW9uLlxuXHQqXG5cdCogQHByaXZhdGVcblx0KiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gY2xlYW5cblx0Ki9cblx0ZnVuY3Rpb24gZW1wdHlPYmplY3QoIG9iaiApIHtcblx0XHRPYmplY3Qua2V5cyggb2JqICkuZm9yRWFjaCggZnVuY3Rpb24gKCBrZXkgKSB7XG5cdFx0XHR2YXIgY29uZmlnID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciggb2JqLCBrZXkgKTtcblxuXHRcdFx0aWYgKCBjb25maWcuY29uZmlndXJhYmxlICYmICFpc1NwZWNpYWxQcm9wZXJ0eSggb2JqLCBrZXkgKSApIHtcblx0XHRcdFx0ZGVsZXRlIG9ialtrZXldO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxuXG5cdC8qKlxuXHQqIENvbXBhcmUgYW4gb2JqZWN0IHdpdGggYW5vdGhlciwgY291bGQgYmUgb2JqZWN0LCBhcnJheSwgbnVtYmVyLCBzdHJpbmcsIGJvb2wuXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdH0gYSBUaGUgZmlyc3Qgb2JqZWN0IHRvIGNvbXBhcmVcblx0KiBAcGFyYW0ge09iamVjdH0gYSBUaGUgc2Vjb25kIG9iamVjdCB0byBjb21wYXJlXG5cdCogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIG9iamVjdHMgYXJlIGlkZW50aWNhbFxuXHQqL1xuXHRmdW5jdGlvbiBjb21wYXJlKCBhLCBiICkge1xuXHRcdHZhciBpc0lkZW50aWNhbCA9IHRydWUsXG5cdFx0XHRpLCBsO1xuXG5cdFx0aWYgKCBpc09iamVjdCggYSApICYmIGlzT2JqZWN0KCBiICkgKSB7XG5cdFx0XHRpZiAoIE9iamVjdC5rZXlzKCBhICkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyggYiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0T2JqZWN0LmtleXMoIGEgKS5mb3JFYWNoKCBmdW5jdGlvbiAoIGtleSApIHtcblx0XHRcdFx0aWYgKCAhY29tcGFyZSggYVtrZXldLCBiW2tleV0gKSApIHtcblx0XHRcdFx0XHRpc0lkZW50aWNhbCA9IGZhbHNlO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIGlzSWRlbnRpY2FsO1xuXHRcdH0gZWxzZSBpZiAoIGlzQXJyYXkoIGEgKSAmJiBpc0FycmF5KCBiICkgKSB7XG5cdFx0XHRpZiAoIGEubGVuZ3RoICE9PSBiLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCAhY29tcGFyZSggYVtpXSwgYltpXSApICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBhID09PSBiO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIEdlbmVyYXRlcyBwYXRjaGVzIGJ5IGNvbXBhcmluZyB0d28gYXJyYXlzLlxuXHQqXG5cdCogQHByaXZhdGVcblx0KiBAcGFyYW0ge0FycmF5fSBvbGRBIFRoZSBvbGQgKG9yaWdpbmFsKSBhcnJheSwgd2hpY2ggd2lsbCBiZSBwYXRjaGVkXG5cdCogQHBhcmFtIHtBcnJheX0gbmV3QSBUaGUgbmV3IGFycmF5LCB3aGljaCB3aWxsIGJlIHVzZWQgdG8gY29tcGFyZSBhZ2FpbnN0XG5cdCogQHJldHVybnMge0FycmF5fSBBbiBhcnJheSBvZiBwYXRjaGVzIChpZiBhbnkpXG5cdCovXG5cdGZ1bmN0aW9uIHBhdGNoQXJyYXkoIG9yaWdpbmFsLCBuZXdBLCBiYXNlUGF0aCApIHtcblx0XHR2YXIgcGF0Y2hlcyA9IFtdLFxuXHRcdFx0b2xkQSA9IG9yaWdpbmFsLnNsaWNlKCksXG5cdFx0XHRpLCBsLCB0bXBJZHggPSAtMTtcblxuXHRcdGZ1bmN0aW9uIGZpbmRJbmRleCggYSwgaWQsIGlkeCApIHtcblx0XHRcdGlmICggYVtpZHhdICYmIGlzVW5kZWYoIGFbaWR4XS5xSW5mbyApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH0gZWxzZSBpZiAoIGFbaWR4XSAmJiBhW2lkeF0ucUluZm8ucUlkID09PSBpZCApIHtcblx0XHRcdFx0Ly8gc2hvcnRjdXQgaWYgaWRlbnRpY2FsXG5cdFx0XHRcdHJldHVybiBpZHg7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCB2YXIgaWkgPSAwLCBsbCA9IGEubGVuZ3RoOyBpaSA8IGxsOyBpaSsrICkge1xuXHRcdFx0XHRpZiAoIGFbaWldICYmIGFbaWldLnFJbmZvLnFJZCA9PT0gaWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGlpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fVxuXG5cdFx0aWYgKCBjb21wYXJlKCBuZXdBLCBvbGRBICkgKSB7XG5cdFx0XHQvLyBhcnJheSBpcyB1bmNoYW5nZWRcblx0XHRcdHJldHVybiBwYXRjaGVzO1xuXHRcdH1cblxuXHRcdGlmICggIWlzVW5kZWYoIG5ld0FbMF0gKSAmJiBpc1VuZGVmKCBuZXdBWzBdLnFJbmZvICkgKSB7XG5cdFx0XHQvLyB3ZSBjYW5ub3QgY3JlYXRlIHBhdGNoZXMgd2l0aG91dCB1bmlxdWUgaWRlbnRpZmllcnMsIHJlcGxhY2UgYXJyYXkuLi5cblx0XHRcdHBhdGNoZXMucHVzaCgge1xuXHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdHBhdGg6IGJhc2VQYXRoLFxuXHRcdFx0XHR2YWx1ZTogbmV3QVxuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIHBhdGNoZXM7XG5cdFx0fVxuXG5cdFx0Zm9yICggaSA9IG9sZEEubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkgKSB7XG5cdFx0XHR0bXBJZHggPSBmaW5kSW5kZXgoIG5ld0EsIG9sZEFbaV0ucUluZm8gJiYgb2xkQVtpXS5xSW5mby5xSWQsIGkgKTtcblx0XHRcdGlmICggdG1wSWR4ID09PSAtMSApIHtcblx0XHRcdFx0cGF0Y2hlcy5wdXNoKCB7XG5cdFx0XHRcdFx0b3A6IFwicmVtb3ZlXCIsXG5cdFx0XHRcdFx0cGF0aDogYmFzZVBhdGggKyBcIi9cIiArIGlcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRvbGRBLnNwbGljZSggaSwgMSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGF0Y2hlcyA9IHBhdGNoZXMuY29uY2F0KCBKU09OUGF0Y2guZ2VuZXJhdGUoIG9sZEFbaV0sIG5ld0FbdG1wSWR4XSwgYmFzZVBhdGggKyBcIi9cIiArIGkgKSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoIGkgPSAwLCBsID0gbmV3QS5sZW5ndGg7IGkgPCBsOyArK2kgKSB7XG5cdFx0XHR0bXBJZHggPSBmaW5kSW5kZXgoIG9sZEEsIG5ld0FbaV0ucUluZm8gJiYgbmV3QVtpXS5xSW5mby5xSWQgKTtcblx0XHRcdGlmICggdG1wSWR4ID09PSAtMSApIHtcblx0XHRcdFx0cGF0Y2hlcy5wdXNoKCB7XG5cdFx0XHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRcdFx0cGF0aDogYmFzZVBhdGggKyBcIi9cIiArIGksXG5cdFx0XHRcdFx0dmFsdWU6IG5ld0FbaV1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRvbGRBLnNwbGljZSggaSwgMCwgbmV3QVtpXSApO1xuXHRcdFx0fSBlbHNlIGlmICggdG1wSWR4ICE9PSBpICkge1xuXHRcdFx0XHRwYXRjaGVzLnB1c2goIHtcblx0XHRcdFx0XHRvcDogXCJtb3ZlXCIsXG5cdFx0XHRcdFx0cGF0aDogYmFzZVBhdGggKyBcIi9cIiArIGksXG5cdFx0XHRcdFx0ZnJvbTogYmFzZVBhdGggKyBcIi9cIiArIHRtcElkeFxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdG9sZEEuc3BsaWNlKCBpLCAwLCBvbGRBLnNwbGljZSggdG1wSWR4LCAxIClbMF0gKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHBhdGNoZXM7XG5cdH1cblxuXHQvKipcblx0KiBHZW5lcmF0ZSBhbiBhcnJheSBvZiBKU09OLVBhdGNoOmVzIGZvbGxvd2luZyB0aGUgSlNPTi1QYXRjaCBTcGVjaWZpY2F0aW9uIERyYWZ0LlxuXHQqXG5cdCogU2VlIFtzcGVjaWZpY2F0aW9uIGRyYWZ0XShodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLWFwcHNhd2ctanNvbi1wYXRjaC0xMClcblx0KlxuXHQqIERvZXMgTk9UIGN1cnJlbnRseSBnZW5lcmF0ZSBwYXRjaGVzIGZvciBhcnJheXMgKHdpbGwgcmVwbGFjZSB0aGVtKVxuXHQqXG5cdCogQHBhcmFtIHtPYmplY3R9IG9yaWdpbmFsIFRoZSBvYmplY3QgdG8gcGF0Y2ggdG9cblx0KiBAcGFyYW0ge09iamVjdH0gbmV3RGF0YSBUaGUgb2JqZWN0IHRvIHBhdGNoIGZyb21cblx0KiBAcGFyYW0ge1N0cmluZ30gW2Jhc2VQYXRoXSBUaGUgYmFzZSBwYXRoIHRvIHVzZSB3aGVuIGdlbmVyYXRpbmcgdGhlIHBhdGhzIGZvciB0aGUgcGF0Y2hlcyAobm9ybWFsbHkgbm90IHVzZWQpXG5cdCogQHJldHVybnMge0FycmF5fSBBbiBhcnJheSBvZiBwYXRjaGVzXG5cdCovXG5cdEpTT05QYXRjaC5nZW5lcmF0ZSA9IGZ1bmN0aW9uICggb3JpZ2luYWwsIG5ld0RhdGEsIGJhc2VQYXRoICkge1xuXHRcdGJhc2VQYXRoID0gYmFzZVBhdGggfHwgXCJcIjtcblx0XHR2YXIgcGF0Y2hlcyA9IFtdO1xuXG5cdFx0T2JqZWN0LmtleXMoIG5ld0RhdGEgKS5mb3JFYWNoKCBmdW5jdGlvbiAoIGtleSApIHtcblx0XHRcdHZhciB2YWwgPSBnZW5lcmF0ZVZhbHVlKCBuZXdEYXRhW2tleV0gKSxcblx0XHRcdFx0b2xkVmFsID0gb3JpZ2luYWxba2V5XSxcblx0XHRcdFx0dG1wUGF0aCA9IGJhc2VQYXRoICsgXCIvXCIgKyBrZXk7XG5cblx0XHRcdGlmICggY29tcGFyZSggdmFsLCBvbGRWYWwgKSB8fCBpc1NwZWNpYWxQcm9wZXJ0eSggbmV3RGF0YSwga2V5ICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICggaXNVbmRlZiggb2xkVmFsICkgKSB7XG5cdFx0XHRcdC8vIHByb3BlcnR5IGRvZXMgbm90IHByZXZpb3VzbHkgZXhpc3Rcblx0XHRcdFx0cGF0Y2hlcy5wdXNoKCB7XG5cdFx0XHRcdFx0b3A6IFwiYWRkXCIsXG5cdFx0XHRcdFx0cGF0aDogdG1wUGF0aCxcblx0XHRcdFx0XHR2YWx1ZTogdmFsXG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gZWxzZSBpZiAoIGlzT2JqZWN0KCB2YWwgKSAmJiBpc09iamVjdCggb2xkVmFsICkgKSB7XG5cdFx0XHRcdC8vIHdlIG5lZWQgdG8gZ2VuZXJhdGUgc3ViLXBhdGNoZXMgZm9yIHRoaXMsIHNpbmNlIGl0IGFscmVhZHkgZXhpc3Rcblx0XHRcdFx0cGF0Y2hlcyA9IHBhdGNoZXMuY29uY2F0KCBKU09OUGF0Y2guZ2VuZXJhdGUoIG9sZFZhbCwgdmFsLCB0bXBQYXRoICkgKTtcblx0XHRcdH0gZWxzZSBpZiAoIGlzQXJyYXkoIHZhbCApICYmIGlzQXJyYXkoIG9sZFZhbCApICkge1xuXHRcdFx0XHRwYXRjaGVzID0gcGF0Y2hlcy5jb25jYXQoIHBhdGNoQXJyYXkoIG9sZFZhbCwgdmFsLCB0bXBQYXRoICkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGl0J3MgYSBzaW1wbGUgcHJvcGVydHkgKGJvb2wsIHN0cmluZywgbnVtYmVyKVxuXHRcdFx0XHRwYXRjaGVzLnB1c2goIHtcblx0XHRcdFx0XHRvcDogXCJyZXBsYWNlXCIsXG5cdFx0XHRcdFx0cGF0aDogYmFzZVBhdGggKyBcIi9cIiArIGtleSxcblx0XHRcdFx0XHR2YWx1ZTogdmFsXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRPYmplY3Qua2V5cyggb3JpZ2luYWwgKS5mb3JFYWNoKCBmdW5jdGlvbiAoIGtleSApIHtcblx0XHRcdGlmICggaXNVbmRlZiggbmV3RGF0YVtrZXldICkgJiYgIWlzU3BlY2lhbFByb3BlcnR5KCBvcmlnaW5hbCwga2V5ICkgKSB7XG5cdFx0XHRcdC8vIHRoaXMgcHJvcGVydHkgZG9lcyBub3QgZXhpc3QgYW55bW9yZVxuXHRcdFx0XHRwYXRjaGVzLnB1c2goIHtcblx0XHRcdFx0XHRvcDogXCJyZW1vdmVcIixcblx0XHRcdFx0XHRwYXRoOiBiYXNlUGF0aCArIFwiL1wiICsga2V5XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0XHRyZXR1cm4gcGF0Y2hlcztcblx0fTtcblxuXHQvKipcblx0KiBBcHBseSBhIGxpc3Qgb2YgcGF0Y2hlcyB0byBhbiBvYmplY3QuXG5cdCpcblx0KiBAcGFyYW0ge09iamVjdH0gb3JpZ2luYWwgVGhlIG9iamVjdCB0byBwYXRjaFxuXHQqIEBwYXJhbSB7QXJyYXl9IHBhdGNoZXMgVGhlIGxpc3Qgb2YgcGF0Y2hlcyB0byBhcHBseVxuXHQqL1xuXHRKU09OUGF0Y2guYXBwbHkgPSBmdW5jdGlvbiAoIG9yaWdpbmFsLCBwYXRjaGVzICkge1xuXHRcdHBhdGNoZXMuZm9yRWFjaCggZnVuY3Rpb24gKCBwYXRjaCApIHtcblx0XHRcdHZhciBwYXJlbnQgPSBnZXRQYXJlbnQoIG9yaWdpbmFsLCBwYXRjaC5wYXRoICksXG5cdFx0XHRcdGtleSA9IHBhdGNoLnBhdGguc3BsaXQoIFwiL1wiICkuc3BsaWNlKCAtMSApWzBdLFxuXHRcdFx0XHR0YXJnZXQgPSBrZXkgJiYgaXNOYU4oICtrZXkgKSA/IHBhcmVudFtrZXldIDogcGFyZW50WytrZXldIHx8IHBhcmVudCxcblx0XHRcdFx0ZnJvbSA9IHBhdGNoLmZyb20gPyBwYXRjaC5mcm9tLnNwbGl0KCBcIi9cIiApLnNwbGljZSggLTEgKVswXSA6IG51bGw7XG5cblx0XHRcdGlmICggcGF0Y2gucGF0aCA9PT0gXCIvXCIgKSB7XG5cdFx0XHRcdHBhcmVudCA9IG51bGw7XG5cdFx0XHRcdHRhcmdldCA9IG9yaWdpbmFsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHBhdGNoLm9wID09PSBcImFkZFwiIHx8IHBhdGNoLm9wID09PSBcInJlcGxhY2VcIiApIHtcblx0XHRcdFx0aWYgKCBpc0FycmF5KCBwYXJlbnQgKSApIHtcblx0XHRcdFx0XHQvLyB0cnVzdCBpbmRleGVzIGZyb20gcGF0Y2hlcywgc28gZG9uJ3QgcmVwbGFjZSB0aGUgaW5kZXggaWYgaXQncyBhbiBhZGRcblx0XHRcdFx0XHRpZiAoIGtleSA9PT0gXCItXCIgKSB7XG5cdFx0XHRcdFx0XHRrZXkgPSBwYXJlbnQubGVuZ3RoO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYXJlbnQuc3BsaWNlKCAra2V5LCBwYXRjaC5vcCA9PT0gXCJhZGRcIiA/IDAgOiAxLCBwYXRjaC52YWx1ZSApO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBpc0FycmF5KCB0YXJnZXQgKSAmJiBpc0FycmF5KCBwYXRjaC52YWx1ZSApICkge1xuXHRcdFx0XHRcdHZhciBuZXdWYWx1ZXMgPSBwYXRjaC52YWx1ZS5zbGljZSgpO1xuXHRcdFx0XHRcdC8vIGtlZXAgYXJyYXkgcmVmZXJlbmNlIGlmIHBvc3NpYmxlLi4uXG5cdFx0XHRcdFx0dGFyZ2V0Lmxlbmd0aCA9IDA7XG5cdFx0XHRcdFx0dGFyZ2V0LnB1c2guYXBwbHkoIHRhcmdldCwgbmV3VmFsdWVzICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGlzT2JqZWN0KCB0YXJnZXQgKSAmJiBpc09iamVjdCggcGF0Y2gudmFsdWUgKSApIHtcblx0XHRcdFx0XHQvLyBrZWVwIG9iamVjdCByZWZlcmVuY2UgaWYgcG9zc2libGUuLi5cblx0XHRcdFx0XHRlbXB0eU9iamVjdCggdGFyZ2V0ICk7XG5cdFx0XHRcdFx0ZXh0ZW5kKCB0YXJnZXQsIHBhdGNoLnZhbHVlICk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoICFwYXJlbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcIlBhdGNoZWUgaXMgbm90IGFuIG9iamVjdCB3ZSBjYW4gcGF0Y2hcIiApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHNpbXBsZSB2YWx1ZVxuXHRcdFx0XHRcdHBhcmVudFtrZXldID0gcGF0Y2gudmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoIHBhdGNoLm9wID09PSBcIm1vdmVcIiApIHtcblx0XHRcdFx0dmFyIG9sZFBhcmVudCA9IGdldFBhcmVudCggb3JpZ2luYWwsIHBhdGNoLmZyb20gKTtcblx0XHRcdFx0aWYgKCBpc0FycmF5KCBwYXJlbnQgKSApIHtcblx0XHRcdFx0XHRwYXJlbnQuc3BsaWNlKCAra2V5LCAwLCBvbGRQYXJlbnQuc3BsaWNlKCArZnJvbSwgMSApWzBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cGFyZW50W2tleV0gPSBvbGRQYXJlbnRbZnJvbV07XG5cdFx0XHRcdFx0ZGVsZXRlIG9sZFBhcmVudFtmcm9tXTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICggcGF0Y2gub3AgPT09IFwicmVtb3ZlXCIgKSB7XG5cdFx0XHRcdGlmICggaXNBcnJheSggcGFyZW50ICkgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnNwbGljZSggK2tleSwgMSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlbGV0ZSBwYXJlbnRba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fTtcblxuXHQvKipcblx0KiBEZWVwIGNsb25lIGFuIG9iamVjdC5cblx0KlxuXHQqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBjbG9uZVxuXHQqIEByZXR1cm5zIHtPYmplY3R9IEEgbmV3IG9iamVjdCBpZGVudGljYWwgdG8gdGhlIGBvYmpgXG5cdCovXG5cdEpTT05QYXRjaC5jbG9uZSA9IGZ1bmN0aW9uICggb2JqICkge1xuXHRcdHJldHVybiBleHRlbmQoIHt9LCBvYmogKTtcblx0fTtcblxuXHQvKipcblx0KiBDcmVhdGVzIGEgSlNPTi1wYXRjaC5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBvcCBUaGUgb3BlcmF0aW9uIG9mIHRoZSBwYXRjaC4gQXZhaWxhYmxlIHZhbHVlczogXCJhZGRcIiwgXCJyZW1vdmVcIiwgXCJtb3ZlXCJcblx0KiBAcGFyYW0ge09iamVjdH0gW3ZhbF0gVGhlIHZhbHVlIHRvIHNldCB0aGUgYHBhdGhgIHRvLiBJZiBgb3BgIGlzIGBtb3ZlYCwgYHZhbGAgaXMgdGhlIFwiZnJvbSBKU09OLXBhdGhcIiBwYXRoXG5cdCogQHBhcmFtIHtTdHJpbmd9IHBhdGggVGhlIEpTT04tcGF0aCBmb3IgdGhlIHByb3BlcnR5IHRvIGNoYW5nZSAoZS5nLiBcIi9xSHlwZXJDdWJlRGVmL2NvbHVtbk9yZGVyXCIpXG5cdCogQHJldHVybnMge09iamVjdH0gQSBwYXRjaCBmb2xsb3dpbmcgdGhlIEpTT04tcGF0Y2ggc3BlY2lmaWNhdGlvblxuXHQqL1xuXHRKU09OUGF0Y2guY3JlYXRlUGF0Y2ggPSBmdW5jdGlvbiAoIG9wLCB2YWwsIHBhdGggKSB7XG5cdFx0dmFyIHBhdGNoID0ge1xuXHRcdFx0b3A6IG9wLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRwYXRoOiBwYXRoXG5cdFx0fTtcblx0XHRpZiAoIHBhdGNoLm9wID09PSBcIm1vdmVcIiApIHtcblx0XHRcdHBhdGNoLmZyb20gPSB2YWw7XG5cdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHBhdGNoLnZhbHVlID0gdmFsO1xuXHRcdH1cblx0XHRyZXR1cm4gcGF0Y2g7XG5cdH07XG5cblx0LyoqXG5cdCogQXBwbHkgdGhlIGRpZmZlcmVuY2VzIG9mIHR3byBvYmplY3RzIChrZWVwaW5nIHJlZmVyZW5jZXMgaWYgcG9zc2libGUpLlxuXHQqIElkZW50aWNhbCB0byBydW5uaW5nIGBKU09OUGF0Y2guYXBwbHkob3JpZ2luYWwsIEpTT05QYXRjaC5nZW5lcmF0ZShvcmlnaW5hbCwgbmV3RGF0YSkpO2Bcblx0KlxuXHQqIEBwYXJhbSB7T2JqZWN0fSBvcmlnaW5hbCBUaGUgb2JqZWN0IHRvIHVwZGF0ZS9wYXRjaFxuXHQqIEBwYXJhbSB7T2JqZWN0fSBuZXdEYXRhIHRoZSBvYmplY3QgdG8gZGlmZiBhZ2FpbnN0XG5cdCpcblx0KiBAZXhhbXBsZVxuXHQqIHZhciBvYmoxID0geyBmb286IFsxLDIsM10sIGJhcjogeyBiYXo6IHRydWUsIHF1eDogMSB9IH07XG5cdCogdmFyIG9iajIgPSB7IGZvbzogWzQsNSw2XSwgYmFyOiB7IGJhejogZmFsc2UgfSB9O1xuXHQqIEpTT05QYXRjaC51cGRhdGVPYmplY3Qob2JqMSwgb2JqMik7XG5cdCogLy8gPT4geyBmb286IFs0LDUsNl0sIGJhcjogeyBiYXo6IGZhbHNlIH0gfTtcblx0Ki9cblx0SlNPTlBhdGNoLnVwZGF0ZU9iamVjdCA9IGZ1bmN0aW9uICggb3JpZ2luYWwsIG5ld0RhdGEgKSB7XG5cdFx0aWYgKCAhT2JqZWN0LmtleXMoIG9yaWdpbmFsICkubGVuZ3RoICkge1xuXHRcdFx0ZXh0ZW5kKCBvcmlnaW5hbCwgbmV3RGF0YSApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRKU09OUGF0Y2guYXBwbHkoIG9yaWdpbmFsLCBKU09OUGF0Y2guZ2VuZXJhdGUoIG9yaWdpbmFsLCBuZXdEYXRhICkgKTtcblx0fTtcblxuXHRyZXR1cm4gSlNPTlBhdGNoO1xufSApICk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9AcWxpay9qc29uLXBhdGNoL3NyYy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 6 */
/*!**************************!*\
  !*** ./src/api-cache.js ***!
  \**************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _cache = __webpack_require__(/*! ./cache */ 0);\n\nvar _cache2 = _interopRequireDefault(_cache);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Api cache.\n */\n\nvar ApiCache = function (_KeyValueCache) {\n\t_inherits(ApiCache, _KeyValueCache);\n\n\tfunction ApiCache() {\n\t\t_classCallCheck(this, ApiCache);\n\n\t\treturn _possibleConstructorReturn(this, Object.getPrototypeOf(ApiCache).call(this));\n\t}\n\n\t/**\n  * Adds an api.\n  * @param {Number} handle - The handle for the api.\n  * @param {*} api - The api.\n  * @returns {{api: *, deltaCache}} The entry.\n  */\n\n\n\t_createClass(ApiCache, [{\n\t\tkey: \"add\",\n\t\tvalue: function add(handle, api) {\n\t\t\tvar entry = {\n\t\t\t\tapi: api,\n\t\t\t\tdeltaCache: new _cache2.default()\n\t\t\t};\n\t\t\t_get(Object.getPrototypeOf(ApiCache.prototype), \"add\", this).call(this, handle.toString(), entry);\n\t\t\treturn entry;\n\t\t}\n\n\t\t/**\n   * Gets an api.\n   * @param {Number} handle - The handle for the api.\n   * @returns {*} The api for the handle.\n   */\n\n\t}, {\n\t\tkey: \"getApi\",\n\t\tvalue: function getApi(handle) {\n\t\t\tvar entry = this.get(handle.toString());\n\t\t\treturn entry && entry.api;\n\t\t}\n\n\t\t/**\n  * Gets a list of apis.\n  * @returns {Array} The list of entries with `handle` and `api` properties for each entry.\n  */\n\n\t}, {\n\t\tkey: \"getApis\",\n\t\tvalue: function getApis() {\n\t\t\treturn _get(Object.getPrototypeOf(ApiCache.prototype), \"getAll\", this).call(this).map(function (entry) {\n\t\t\t\treturn {\n\t\t\t\t\thandle: entry.key,\n\t\t\t\t\tapi: entry.value.api\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * Gets a patchee.\n   * @param {Number} handle - The handle for the api.\n   * @param {String} method - The method.\n   * @returns {*} The patchee.\n   */\n\n\t}, {\n\t\tkey: \"getPatchee\",\n\t\tvalue: function getPatchee(handle, method) {\n\t\t\tvar entry = this.get(handle.toString());\n\t\t\treturn entry && entry.deltaCache.get(method);\n\t\t}\n\n\t\t/**\n   * Adds a patchee\n   * @param {Number} handle - The handle for the api.\n   * @param {String} method - The method.\n   * @param {Object} patchee - The patchee to add.\n   */\n\n\t}, {\n\t\tkey: \"addPatchee\",\n\t\tvalue: function addPatchee(handle, method, patchee) {\n\t\t\tthis.get(handle.toString()).deltaCache.add(method, patchee);\n\t\t}\n\n\t\t/**\n   * Sets a patchee\n   * @param {Number} handle - The handle for the api.\n   * @param {String} method - The method.\n   * @param {Object} patchee - The patchee to add.\n   */\n\n\t}, {\n\t\tkey: \"setPatchee\",\n\t\tvalue: function setPatchee(handle, method, patchee) {\n\t\t\tthis.get(handle.toString()).deltaCache.set(method, patchee);\n\t\t}\n\t}]);\n\n\treturn ApiCache;\n}(_cache2.default);\n\nexports.default = ApiCache;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBpLWNhY2hlLmpzPzEyY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEtleVZhbHVlQ2FjaGUgZnJvbSBcIi4vY2FjaGVcIjtcblxuLyoqXG4gKiBBcGkgY2FjaGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaUNhY2hlIGV4dGVuZHMgS2V5VmFsdWVDYWNoZSB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGFuIGFwaS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGhhbmRsZSAtIFRoZSBoYW5kbGUgZm9yIHRoZSBhcGkuXG5cdCAqIEBwYXJhbSB7Kn0gYXBpIC0gVGhlIGFwaS5cblx0ICogQHJldHVybnMge3thcGk6ICosIGRlbHRhQ2FjaGV9fSBUaGUgZW50cnkuXG5cdCAqL1xuXHRhZGQoIGhhbmRsZSwgYXBpICkge1xuXHRcdGxldCBlbnRyeSA9IHtcblx0XHRcdGFwaTogYXBpLFxuXHRcdFx0ZGVsdGFDYWNoZTogbmV3IEtleVZhbHVlQ2FjaGUoKVxuXHRcdH07XG5cdFx0c3VwZXIuYWRkKCBoYW5kbGUudG9TdHJpbmcoKSwgZW50cnkgKTtcblx0XHRyZXR1cm4gZW50cnk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyBhbiBhcGkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoYW5kbGUgLSBUaGUgaGFuZGxlIGZvciB0aGUgYXBpLlxuXHQgKiBAcmV0dXJucyB7Kn0gVGhlIGFwaSBmb3IgdGhlIGhhbmRsZS5cblx0ICovXG5cdGdldEFwaSggaGFuZGxlICkge1xuXHRcdGxldCBlbnRyeSA9IHRoaXMuZ2V0KCBoYW5kbGUudG9TdHJpbmcoKSApO1xuXHRcdHJldHVybiBlbnRyeSAmJiBlbnRyeS5hcGk7XG5cdH1cblxuXHQvKipcblx0KiBHZXRzIGEgbGlzdCBvZiBhcGlzLlxuXHQqIEByZXR1cm5zIHtBcnJheX0gVGhlIGxpc3Qgb2YgZW50cmllcyB3aXRoIGBoYW5kbGVgIGFuZCBgYXBpYCBwcm9wZXJ0aWVzIGZvciBlYWNoIGVudHJ5LlxuXHQqL1xuXHRnZXRBcGlzKCkge1xuXHRcdHJldHVybiBzdXBlci5nZXRBbGwoKS5tYXAoIGVudHJ5ID0+IHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGhhbmRsZTogZW50cnkua2V5LFxuXHRcdFx0XHRhcGk6IGVudHJ5LnZhbHVlLmFwaVxuXHRcdFx0fTtcblx0XHR9ICk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyBhIHBhdGNoZWUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoYW5kbGUgLSBUaGUgaGFuZGxlIGZvciB0aGUgYXBpLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIC0gVGhlIG1ldGhvZC5cblx0ICogQHJldHVybnMgeyp9IFRoZSBwYXRjaGVlLlxuXHQgKi9cblx0Z2V0UGF0Y2hlZSggaGFuZGxlLCBtZXRob2QgKSB7XG5cdFx0bGV0IGVudHJ5ID0gdGhpcy5nZXQoIGhhbmRsZS50b1N0cmluZygpICk7XG5cdFx0cmV0dXJuIGVudHJ5ICYmIGVudHJ5LmRlbHRhQ2FjaGUuZ2V0KCBtZXRob2QgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgcGF0Y2hlZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gaGFuZGxlIC0gVGhlIGhhbmRsZSBmb3IgdGhlIGFwaS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCAtIFRoZSBtZXRob2QuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwYXRjaGVlIC0gVGhlIHBhdGNoZWUgdG8gYWRkLlxuXHQgKi9cblx0YWRkUGF0Y2hlZSggaGFuZGxlLCBtZXRob2QsIHBhdGNoZWUgKSB7XG5cdFx0dGhpcy5nZXQoIGhhbmRsZS50b1N0cmluZygpICkuZGVsdGFDYWNoZS5hZGQoIG1ldGhvZCwgcGF0Y2hlZSApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgYSBwYXRjaGVlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoYW5kbGUgLSBUaGUgaGFuZGxlIGZvciB0aGUgYXBpLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIC0gVGhlIG1ldGhvZC5cblx0ICogQHBhcmFtIHtPYmplY3R9IHBhdGNoZWUgLSBUaGUgcGF0Y2hlZSB0byBhZGQuXG5cdCAqL1xuXHRzZXRQYXRjaGVlKCBoYW5kbGUsIG1ldGhvZCwgcGF0Y2hlZSApIHtcblx0XHR0aGlzLmdldCggaGFuZGxlLnRvU3RyaW5nKCkgKS5kZWx0YUNhY2hlLnNldCggbWV0aG9kLCBwYXRjaGVlICk7XG5cdH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9hcGktY2FjaGUuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUFJQTs7O0FBRUE7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUNBOzs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7Ozs7OztBQXpFQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 7 */
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _communication = __webpack_require__(/*! ./communication */ 3);\n\nvar _communication2 = _interopRequireDefault(_communication);\n\nvar _index = __webpack_require__(/*! ./services/qix/index */ 4);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @description EnigmaJS Communication module.\n * Add end point definitions to this object to retrieve sessions or HTTP REST communication API objects.\n * The communication module comes with a pre-defined Qlik Sense Qix Engine definition.\n */\n\n\nvar communication = new _communication2.default();\nvar qix = new _index2.default();\ncommunication.registerService(\"qix\", qix.connect.bind(qix));\n\nexports.default = communication;\n\nmodule.exports = communication;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBkZXNjcmlwdGlvbiBFbmlnbWFKUyBDb21tdW5pY2F0aW9uIG1vZHVsZS5cbiAqIEFkZCBlbmQgcG9pbnQgZGVmaW5pdGlvbnMgdG8gdGhpcyBvYmplY3QgdG8gcmV0cmlldmUgc2Vzc2lvbnMgb3IgSFRUUCBSRVNUIGNvbW11bmljYXRpb24gQVBJIG9iamVjdHMuXG4gKiBUaGUgY29tbXVuaWNhdGlvbiBtb2R1bGUgY29tZXMgd2l0aCBhIHByZS1kZWZpbmVkIFFsaWsgU2Vuc2UgUWl4IEVuZ2luZSBkZWZpbml0aW9uLlxuICovXG5pbXBvcnQgQ29tbXVuaWNhdGlvbiBmcm9tIFwiLi9jb21tdW5pY2F0aW9uXCI7XG5pbXBvcnQgUWl4IGZyb20gXCIuL3NlcnZpY2VzL3FpeC9pbmRleFwiO1xuXG5sZXQgY29tbXVuaWNhdGlvbiA9IG5ldyBDb21tdW5pY2F0aW9uKCk7XG5sZXQgcWl4ID0gbmV3IFFpeCgpO1xuY29tbXVuaWNhdGlvbi5yZWdpc3RlclNlcnZpY2UoIFwicWl4XCIsIHFpeC5jb25uZWN0LmJpbmQoIHFpeCApICk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbW11bmljYXRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGNvbW11bmljYXRpb247XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaW5kZXguanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 8 */
/*!*****************************!*\
  !*** ./src/rpc-resolver.js ***!
  \*****************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventEmitter = __webpack_require__(/*! ./event-emitter */ 1);\n\nvar _eventEmitter2 = _interopRequireDefault(_eventEmitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RPCResolver = function () {\n\tfunction RPCResolver(id, resolve, reject) {\n\t\t_classCallCheck(this, RPCResolver);\n\n\t\t_eventEmitter2.default.mixin(this);\n\t\tthis.id = id;\n\t\tthis.resolve = resolve;\n\t\tthis.reject = reject;\n\t}\n\n\t_createClass(RPCResolver, [{\n\t\tkey: \"resolveWith\",\n\t\tvalue: function resolveWith(data) {\n\t\t\tthis.resolve(data);\n\t\t\tthis.emit(\"resolved\", this.id);\n\t\t}\n\t}, {\n\t\tkey: \"rejectWith\",\n\t\tvalue: function rejectWith(err) {\n\t\t\tthis.reject(err);\n\t\t\tthis.emit(\"rejected\", this.id);\n\t\t}\n\t}]);\n\n\treturn RPCResolver;\n}();\n\nexports.default = RPCResolver;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvcnBjLXJlc29sdmVyLmpzPzVlNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi9ldmVudC1lbWl0dGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJQQ1Jlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoIGlkLCByZXNvbHZlLCByZWplY3QgKSB7XG5cdFx0RXZlbnRzLm1peGluKCB0aGlzICk7XG5cdFx0dGhpcy5pZCA9IGlkO1xuXHRcdHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG5cdFx0dGhpcy5yZWplY3QgPSByZWplY3Q7XG5cdH1cblx0cmVzb2x2ZVdpdGgoIGRhdGEgKSB7XG5cdFx0dGhpcy5yZXNvbHZlKCBkYXRhICk7XG5cdFx0dGhpcy5lbWl0KCBcInJlc29sdmVkXCIsIHRoaXMuaWQgKTtcblx0fVxuXHRyZWplY3RXaXRoKCBlcnIgKSB7XG5cdFx0dGhpcy5yZWplY3QoIGVyciApO1xuXHRcdHRoaXMuZW1pdCggXCJyZWplY3RlZFwiLCB0aGlzLmlkICk7XG5cdH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9ycGMtcmVzb2x2ZXIuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQWRBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 9 */
/*!********************!*\
  !*** ./src/rpc.js ***!
  \********************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventEmitter = __webpack_require__(/*! ./event-emitter */ 1);\n\nvar _eventEmitter2 = _interopRequireDefault(_eventEmitter);\n\nvar _rpcResolver = __webpack_require__(/*! ./rpc-resolver */ 8);\n\nvar _rpcResolver2 = _interopRequireDefault(_rpcResolver);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * RPC - Handle remote procedure calls\n */\n\nvar RPC = function () {\n\t/**\n  * @description Constructor\n  * @param {Function} Promise - The promise constructor.\n  * @param {String} url - The URL used to connect to an endpoint.\n  * @param {Function} createSocket The function callback to create a WebSocket.\n  * @param {Object} sessionConfig - The object to configure the session.\n  */\n\n\tfunction RPC(Promise, url, createSocket, sessionConfig) {\n\t\t_classCallCheck(this, RPC);\n\n\t\t_eventEmitter2.default.mixin(this);\n\t\tthis.Promise = Promise;\n\t\tthis.url = url;\n\t\tthis.createSocket = createSocket;\n\t\tthis.sessionConfig = sessionConfig;\n\t\tthis.resolvers = {};\n\t\tthis.requestId = 0;\n\t\tthis.openPromise = undefined;\n\t}\n\n\t/**\n  * @description Function used to open a connection to the configured endpoint.\n  * @returns {Object} Returns a promise instance.\n  */\n\n\n\t_createClass(RPC, [{\n\t\tkey: \"open\",\n\t\tvalue: function open() {\n\t\t\tvar _this = this;\n\n\t\t\tif (this.openPromise) {\n\t\t\t\treturn this.openPromise;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.socket = this.createSocket(this.url, this.sessionConfig);\n\t\t\t} catch (err) {\n\t\t\t\treturn this.Promise.reject(err);\n\t\t\t}\n\n\t\t\tthis.socket.onopen = this.onOpen.bind(this);\n\t\t\tthis.socket.onclose = this.onClose.bind(this);\n\t\t\tthis.socket.onerror = this.onError.bind(this);\n\t\t\tthis.socket.onmessage = this.onMessage.bind(this);\n\t\t\tthis.openPromise = new this.Promise(function (resolve, reject) {\n\t\t\t\treturn _this.registerResolver(\"open\", resolve, reject);\n\t\t\t});\n\t\t\tthis.closePromise = new this.Promise(function (resolve, reject) {\n\t\t\t\treturn _this.registerResolver(\"close\", resolve, reject);\n\t\t\t});\n\t\t\treturn this.openPromise;\n\t\t}\n\n\t\t/**\n   * @description Function used to resolve the open promise when a connection is successfully established.\n   */\n\n\t}, {\n\t\tkey: \"onOpen\",\n\t\tvalue: function onOpen() {\n\t\t\tvar _this2 = this;\n\n\t\t\tthis.resolvers.open.resolveWith(function () {\n\t\t\t\treturn _this2.closePromise;\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * @description Function used to resolve the close promise when a connection is closed.\n   * @param {Object} event - The event describing close.\n   */\n\n\t}, {\n\t\tkey: \"onClose\",\n\t\tvalue: function onClose(event) {\n\t\t\tthis.emit(\"close\", event);\n\t\t\tthis.resolvers.close.resolveWith(event);\n\t\t\tthis.rejectAllOutstandingResolvers();\n\t\t}\n\n\t\t/**\n   * @description Function used to close a connection.\n   * @param {Number} [code=1000] - The reason code for closing the connection.\n   * @param {String} [reason=\"\"] - The human readable string describing why the connection is closed.\n   * @returns {Object} Returns a promise instance.\n   */\n\n\t}, {\n\t\tkey: \"close\",\n\t\tvalue: function close() {\n\t\t\tvar code = arguments.length <= 0 || arguments[0] === undefined ? 1000 : arguments[0];\n\t\t\tvar reason = arguments.length <= 1 || arguments[1] === undefined ? \"\" : arguments[1];\n\n\t\t\tthis.socket.close(code, reason);\n\t\t\treturn this.closePromise;\n\t\t}\n\n\t\t/**\n   * @description Emits an error event and rejects the open promise if an error is raised on the connection.\n   * @param {Object} event - The event describing the error.\n   */\n\n\t}, {\n\t\tkey: \"onError\",\n\t\tvalue: function onError(event) {\n\t\t\tif (this.resolvers.open) {\n\t\t\t\tthis.resolvers.open.rejectWith(event);\n\t\t\t} else {\n\t\t\t\t// only emit errors after the initial open promise has been resolved,\n\t\t\t\t// this makes it possible to catch early websocket errors as well\n\t\t\t\t// as run-time ones:\n\t\t\t\tthis.emit(\"error-socket\", event);\n\t\t\t}\n\t\t\tthis.rejectAllOutstandingResolvers();\n\t\t}\n\n\t\t/**\n   * @description Function used to parse the onMessage event on the connection and resolve the promise for the request.\n   * @param {Object} event - The event describing the message.\n   */\n\n\t}, {\n\t\tkey: \"onMessage\",\n\t\tvalue: function onMessage(event) {\n\t\t\tvar data = JSON.parse(event.data);\n\t\t\tif (typeof data.id !== \"undefined\") {\n\t\t\t\tthis.emit(\"message\", data);\n\t\t\t\tthis.resolvers[data.id].resolveWith(data);\n\t\t\t} else {\n\t\t\t\tthis.emit(data.params ? \"notification\" : \"message\", data);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * @description Function used to reject all outstanding resolvers.\n   */\n\n\t}, {\n\t\tkey: \"rejectAllOutstandingResolvers\",\n\t\tvalue: function rejectAllOutstandingResolvers() {\n\t\t\tvar _this3 = this;\n\n\t\t\tObject.keys(this.resolvers).forEach(function (id) {\n\t\t\t\tif (id === \"open\" || id === \"close\") {\n\t\t\t\t\treturn; //\"open\" and \"close\" should not be handled here\n\t\t\t\t}\n\t\t\t\tvar resolver = _this3.resolvers[id];\n\t\t\t\tresolver.rejectWith();\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * @description Function used to unregister a resolver.\n   * @param {Number|String} id - The ID to unregister the resolver with.\n   */\n\n\t}, {\n\t\tkey: \"unregisterResolver\",\n\t\tvalue: function unregisterResolver(id) {\n\t\t\tvar resolver = this.resolvers[id];\n\t\t\tresolver.removeAllListeners();\n\t\t\tdelete this.resolvers[id];\n\t\t}\n\n\t\t/**\n   * @description Function used to register a resolver.\n   * @param {Number|String} id - The ID to register the resolver with.\n   * @returns {Function} Returns the promise executor function.\n   */\n\n\t}, {\n\t\tkey: \"registerResolver\",\n\t\tvalue: function registerResolver(id, resolve, reject) {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar resolver = this.resolvers[id] = new _rpcResolver2.default(id, resolve, reject);\n\t\t\tresolver.on(\"resolved\", function (resolvedId) {\n\t\t\t\treturn _this4.unregisterResolver(resolvedId);\n\t\t\t});\n\t\t\tresolver.on(\"rejected\", function (rejectedId) {\n\t\t\t\treturn _this4.unregisterResolver(rejectedId);\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * @description Function used to send data on the socket.\n   * @param {Object} data - The data to send.\n   * @returns {Object} Returns a promise instance.\n   */\n\n\t}, {\n\t\tkey: \"send\",\n\t\tvalue: function send(data) {\n\t\t\tvar _this5 = this;\n\n\t\t\tif (!this.socket || this.socket.readyState !== this.socket.OPEN) {\n\t\t\t\treturn this.Promise.reject(new Error(\"Not connected\"));\n\t\t\t}\n\t\t\tdata.jsonrpc = \"2.0\";\n\t\t\tdata.id = ++this.requestId;\n\t\t\tthis.socket.send(JSON.stringify(data));\n\t\t\treturn new this.Promise(function (resolve, reject) {\n\t\t\t\treturn _this5.registerResolver(data.id, resolve, reject);\n\t\t\t});\n\t\t}\n\t}]);\n\n\treturn RPC;\n}();\n\nexports.default = RPC;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvcnBjLmpzPzk1OWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi9ldmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgUlBDUmVzb2x2ZXIgZnJvbSBcIi4vcnBjLXJlc29sdmVyXCI7XG5cbi8qKlxuICogUlBDIC0gSGFuZGxlIHJlbW90ZSBwcm9jZWR1cmUgY2FsbHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUlBDIHtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBQcm9taXNlIC0gVGhlIHByb21pc2UgY29uc3RydWN0b3IuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSBUaGUgVVJMIHVzZWQgdG8gY29ubmVjdCB0byBhbiBlbmRwb2ludC5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY3JlYXRlU29ja2V0IFRoZSBmdW5jdGlvbiBjYWxsYmFjayB0byBjcmVhdGUgYSBXZWJTb2NrZXQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uQ29uZmlnIC0gVGhlIG9iamVjdCB0byBjb25maWd1cmUgdGhlIHNlc3Npb24uXG5cdCAqL1xuXHRjb25zdHJ1Y3RvciAoIFByb21pc2UsIHVybCwgY3JlYXRlU29ja2V0LCBzZXNzaW9uQ29uZmlnICkge1xuXHRcdEV2ZW50cy5taXhpbiggdGhpcyApO1xuXHRcdHRoaXMuUHJvbWlzZSA9IFByb21pc2U7XG5cdFx0dGhpcy51cmwgPSB1cmw7XG5cdFx0dGhpcy5jcmVhdGVTb2NrZXQgPSBjcmVhdGVTb2NrZXQ7XG5cdFx0dGhpcy5zZXNzaW9uQ29uZmlnID0gc2Vzc2lvbkNvbmZpZztcblx0XHR0aGlzLnJlc29sdmVycyA9IHt9O1xuXHRcdHRoaXMucmVxdWVzdElkID0gMDtcblx0XHR0aGlzLm9wZW5Qcm9taXNlID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIG9wZW4gYSBjb25uZWN0aW9uIHRvIHRoZSBjb25maWd1cmVkIGVuZHBvaW50LlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgcHJvbWlzZSBpbnN0YW5jZS5cblx0ICovXG5cdG9wZW4gKCkge1xuXHRcdGlmKCB0aGlzLm9wZW5Qcm9taXNlICkge1xuXHRcdFx0cmV0dXJuIHRoaXMub3BlblByb21pc2U7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuc29ja2V0ID0gdGhpcy5jcmVhdGVTb2NrZXQoIHRoaXMudXJsLCB0aGlzLnNlc3Npb25Db25maWcgKTtcblx0XHR9IGNhdGNoKCBlcnIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5Qcm9taXNlLnJlamVjdCggZXJyICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zb2NrZXQub25vcGVuID0gdGhpcy5vbk9wZW4uYmluZCggdGhpcyApO1xuXHRcdHRoaXMuc29ja2V0Lm9uY2xvc2UgPSB0aGlzLm9uQ2xvc2UuYmluZCggdGhpcyApO1xuXHRcdHRoaXMuc29ja2V0Lm9uZXJyb3IgPSB0aGlzLm9uRXJyb3IuYmluZCggdGhpcyApO1xuXHRcdHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMub25NZXNzYWdlLmJpbmQoIHRoaXMgKTtcblx0XHR0aGlzLm9wZW5Qcm9taXNlID0gbmV3IHRoaXMuUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoIFwib3BlblwiLCByZXNvbHZlLCByZWplY3QgKSApO1xuXHRcdHRoaXMuY2xvc2VQcm9taXNlID0gbmV3IHRoaXMuUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSA9PiB0aGlzLnJlZ2lzdGVyUmVzb2x2ZXIoIFwiY2xvc2VcIiwgcmVzb2x2ZSwgcmVqZWN0ICkgKTtcblx0XHRyZXR1cm4gdGhpcy5vcGVuUHJvbWlzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byByZXNvbHZlIHRoZSBvcGVuIHByb21pc2Ugd2hlbiBhIGNvbm5lY3Rpb24gaXMgc3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVkLlxuXHQgKi9cblx0b25PcGVuICgpIHtcblx0XHR0aGlzLnJlc29sdmVycy5vcGVuLnJlc29sdmVXaXRoKFxuXHRcdFx0KCkgPT4geyByZXR1cm4gdGhpcy5jbG9zZVByb21pc2U7IH1cblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIHJlc29sdmUgdGhlIGNsb3NlIHByb21pc2Ugd2hlbiBhIGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSBUaGUgZXZlbnQgZGVzY3JpYmluZyBjbG9zZS5cblx0ICovXG5cdG9uQ2xvc2UgKCBldmVudCApIHtcblx0XHR0aGlzLmVtaXQoIFwiY2xvc2VcIiwgZXZlbnQgKTtcblx0XHR0aGlzLnJlc29sdmVycy5jbG9zZS5yZXNvbHZlV2l0aCggZXZlbnQgKTtcblx0XHR0aGlzLnJlamVjdEFsbE91dHN0YW5kaW5nUmVzb2x2ZXJzKCk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gY2xvc2UgYSBjb25uZWN0aW9uLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2NvZGU9MTAwMF0gLSBUaGUgcmVhc29uIGNvZGUgZm9yIGNsb3NpbmcgdGhlIGNvbm5lY3Rpb24uXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbcmVhc29uPVwiXCJdIC0gVGhlIGh1bWFuIHJlYWRhYmxlIHN0cmluZyBkZXNjcmliaW5nIHdoeSB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBwcm9taXNlIGluc3RhbmNlLlxuXHQgKi9cblx0Y2xvc2UgKCBjb2RlID0gMTAwMCwgcmVhc29uID0gXCJcIiApIHtcblx0XHR0aGlzLnNvY2tldC5jbG9zZSggY29kZSwgcmVhc29uICk7XG5cdFx0cmV0dXJuIHRoaXMuY2xvc2VQcm9taXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBFbWl0cyBhbiBlcnJvciBldmVudCBhbmQgcmVqZWN0cyB0aGUgb3BlbiBwcm9taXNlIGlmIGFuIGVycm9yIGlzIHJhaXNlZCBvbiB0aGUgY29ubmVjdGlvbi5cblx0ICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IC0gVGhlIGV2ZW50IGRlc2NyaWJpbmcgdGhlIGVycm9yLlxuXHQgKi9cblx0b25FcnJvciggZXZlbnQgKSB7XG5cdFx0aWYoIHRoaXMucmVzb2x2ZXJzLm9wZW4gKSB7XG5cdFx0XHR0aGlzLnJlc29sdmVycy5vcGVuLnJlamVjdFdpdGgoIGV2ZW50ICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG9ubHkgZW1pdCBlcnJvcnMgYWZ0ZXIgdGhlIGluaXRpYWwgb3BlbiBwcm9taXNlIGhhcyBiZWVuIHJlc29sdmVkLFxuXHRcdFx0Ly8gdGhpcyBtYWtlcyBpdCBwb3NzaWJsZSB0byBjYXRjaCBlYXJseSB3ZWJzb2NrZXQgZXJyb3JzIGFzIHdlbGxcblx0XHRcdC8vIGFzIHJ1bi10aW1lIG9uZXM6XG5cdFx0XHR0aGlzLmVtaXQoIFwiZXJyb3Itc29ja2V0XCIsIGV2ZW50ICk7XG5cdFx0fVxuXHRcdHRoaXMucmVqZWN0QWxsT3V0c3RhbmRpbmdSZXNvbHZlcnMoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBwYXJzZSB0aGUgb25NZXNzYWdlIGV2ZW50IG9uIHRoZSBjb25uZWN0aW9uIGFuZCByZXNvbHZlIHRoZSBwcm9taXNlIGZvciB0aGUgcmVxdWVzdC5cblx0ICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IC0gVGhlIGV2ZW50IGRlc2NyaWJpbmcgdGhlIG1lc3NhZ2UuXG5cdCAqL1xuXHRvbk1lc3NhZ2UgKCBldmVudCApIHtcblx0XHRsZXQgZGF0YSA9IEpTT04ucGFyc2UoIGV2ZW50LmRhdGEgKTtcblx0XHRpZiAoIHR5cGVvZiBkYXRhLmlkICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0dGhpcy5lbWl0KCBcIm1lc3NhZ2VcIiwgZGF0YSApO1xuXHRcdFx0dGhpcy5yZXNvbHZlcnNbZGF0YS5pZF0ucmVzb2x2ZVdpdGgoIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5lbWl0KCBkYXRhLnBhcmFtcyA/IFwibm90aWZpY2F0aW9uXCIgOiBcIm1lc3NhZ2VcIiwgZGF0YSApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byByZWplY3QgYWxsIG91dHN0YW5kaW5nIHJlc29sdmVycy5cblx0ICovXG5cdHJlamVjdEFsbE91dHN0YW5kaW5nUmVzb2x2ZXJzKCkge1xuXHRcdE9iamVjdC5rZXlzKCB0aGlzLnJlc29sdmVycyApLmZvckVhY2goIGlkID0+IHtcblx0XHRcdGlmICggaWQgPT09IFwib3BlblwiIHx8IGlkID09PSBcImNsb3NlXCIgKSB7XG5cdFx0XHRcdHJldHVybjsgLy9cIm9wZW5cIiBhbmQgXCJjbG9zZVwiIHNob3VsZCBub3QgYmUgaGFuZGxlZCBoZXJlXG5cdFx0XHR9XG5cdFx0XHRjb25zdCByZXNvbHZlciA9IHRoaXMucmVzb2x2ZXJzW2lkXTtcblx0XHRcdHJlc29sdmVyLnJlamVjdFdpdGgoKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gdW5yZWdpc3RlciBhIHJlc29sdmVyLlxuXHQgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IGlkIC0gVGhlIElEIHRvIHVucmVnaXN0ZXIgdGhlIHJlc29sdmVyIHdpdGguXG5cdCAqL1xuXHR1bnJlZ2lzdGVyUmVzb2x2ZXIoIGlkICkge1xuXHRcdGNvbnN0IHJlc29sdmVyID0gdGhpcy5yZXNvbHZlcnNbaWRdO1xuXHRcdHJlc29sdmVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHRcdGRlbGV0ZSB0aGlzLnJlc29sdmVyc1tpZF07XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gcmVnaXN0ZXIgYSByZXNvbHZlci5cblx0ICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBpZCAtIFRoZSBJRCB0byByZWdpc3RlciB0aGUgcmVzb2x2ZXIgd2l0aC5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBwcm9taXNlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuXHQgKi9cblx0cmVnaXN0ZXJSZXNvbHZlciAoIGlkLCByZXNvbHZlLCByZWplY3QgKSB7XG5cdFx0Y29uc3QgcmVzb2x2ZXIgPSB0aGlzLnJlc29sdmVyc1tpZF0gPSBuZXcgUlBDUmVzb2x2ZXIoIGlkLCByZXNvbHZlLCByZWplY3QgKTtcblx0XHRyZXNvbHZlci5vbiggXCJyZXNvbHZlZFwiLCByZXNvbHZlZElkID0+IHRoaXMudW5yZWdpc3RlclJlc29sdmVyKCByZXNvbHZlZElkICkgKTtcblx0XHRyZXNvbHZlci5vbiggXCJyZWplY3RlZFwiLCByZWplY3RlZElkID0+IHRoaXMudW5yZWdpc3RlclJlc29sdmVyKCByZWplY3RlZElkICkgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBzZW5kIGRhdGEgb24gdGhlIHNvY2tldC5cblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSB0byBzZW5kLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgcHJvbWlzZSBpbnN0YW5jZS5cblx0ICovXG5cdHNlbmQgKCBkYXRhICkge1xuXHRcdGlmICggIXRoaXMuc29ja2V0IHx8IHRoaXMuc29ja2V0LnJlYWR5U3RhdGUgIT09IHRoaXMuc29ja2V0Lk9QRU4gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5Qcm9taXNlLnJlamVjdCggbmV3IEVycm9yKCBcIk5vdCBjb25uZWN0ZWRcIiApICk7XG5cdFx0fVxuXHRcdGRhdGEuanNvbnJwYyA9IFwiMi4wXCI7XG5cdFx0ZGF0YS5pZCA9ICsrdGhpcy5yZXF1ZXN0SWQ7XG5cdFx0dGhpcy5zb2NrZXQuc2VuZCggSlNPTi5zdHJpbmdpZnkoIGRhdGEgKSApO1xuXHRcdHJldHVybiBuZXcgdGhpcy5Qcm9taXNlKCAoIHJlc29sdmUsIHJlamVjdCApID0+IHRoaXMucmVnaXN0ZXJSZXNvbHZlciggZGF0YS5pZCwgcmVzb2x2ZSwgcmVqZWN0ICkgKTtcblx0fVxuXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvcnBjLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBSUE7Ozs7Ozs7OztBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFPQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7Ozs7OztBQXRKQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 10 */
/*!************************************!*\
  !*** ./src/services/qix/schema.js ***!
  \************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _cache = __webpack_require__(/*! ../../cache */ 0);\n\nvar _cache2 = _interopRequireDefault(_cache);\n\nvar _eventEmitter = __webpack_require__(/*! ../../event-emitter */ 1);\n\nvar _eventEmitter2 = _interopRequireDefault(_eventEmitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IGNORE_DELTA_METHODS = [\"GetProperties\", \"SetProperties\", \"GetFullPropertyTree\", \"SetFullPropertyTree\", \"GetAppProperties\", \"SetAppProperties\"];\n\nvar SUCCESS_KEY = \"qSuccess\";\n\n/**\n * Definitions\n */\n\nvar Schema = function () {\n\n\t/**\n  * @description Constructor.\n  * @param {Function} Promise The constructor function for a promise.\n  * @param {Object} json The JSON object that describes the API.\n  */\n\n\tfunction Schema(Promise, json) {\n\t\t_classCallCheck(this, Schema);\n\n\t\tthis.Promise = Promise;\n\t\tthis.mixins = new _cache2.default();\n\t\tthis.def = json;\n\t\tthis.types = new _cache2.default();\n\t}\n\n\t/**\n  * @description Function used to add a mixin object to the mixin cache. Will be mixed into the API\n  * of the specified key when generated.\n  * @param {Object} mixin Mixin object.\n  * @param {String|Array<String>} mixin.types String or array of strings containing the API-types that will be mixed in.\n  * @param {Object} [mixin.extend] Object literal containing the methods that will be extended on the specified API.\n  * @param {Object} [mixin.override] Object literal containing the methods to override existing methods.\n  * @param {Function} [mixin.init] Init function that, if defined, will run when an API is instantiated. It runs with Promise and API object as parameters.\n  */\n\n\n\t_createClass(Schema, [{\n\t\tkey: \"registerMixin\",\n\t\tvalue: function registerMixin(_ref) {\n\t\t\tvar _this = this;\n\n\t\t\tvar types = _ref.types;\n\t\t\tvar type = _ref.type;\n\t\t\tvar extend = _ref.extend;\n\t\t\tvar override = _ref.override;\n\t\t\tvar init = _ref.init;\n\n\t\t\tif (!Array.isArray(types)) {\n\t\t\t\ttypes = [types];\n\t\t\t}\n\t\t\t// to support a single type\n\t\t\tif (type) {\n\t\t\t\ttypes.push(type);\n\t\t\t}\n\t\t\tvar cached = { extend: extend, override: override, init: init };\n\t\t\ttypes.forEach(function (typeKey) {\n\t\t\t\tvar entryList = _this.mixins.get(typeKey);\n\t\t\t\tif (entryList) {\n\t\t\t\t\tentryList.push(cached);\n\t\t\t\t} else {\n\t\t\t\t\t_this.mixins.add(typeKey, [cached]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * @description Function used to generate a type definition.\n   * @param {String} typeKey The type.\n   * @returns {{create: Function, def: Object}} Returns an object with a definition of the type and a create factory.\n   */\n\n\t}, {\n\t\tkey: \"generate\",\n\t\tvalue: function generate(typeKey) {\n\t\t\tvar entry = this.types.get(typeKey);\n\t\t\tif (entry) {\n\t\t\t\treturn entry;\n\t\t\t}\n\t\t\tif (!this.def.structs[typeKey]) {\n\t\t\t\tthrow new Error(typeKey + \" not found\");\n\t\t\t}\n\t\t\tvar type = this.generateApi(typeKey, this.def.structs[typeKey]);\n\t\t\tthis.types.add(typeKey, type);\n\t\t\treturn type;\n\t\t}\n\n\t\t/**\n   * @description Function used to generate an API definition for a given type.\n   * @param {String} typeKey The type to generate.\n   * @param {Object} def The API definition.\n   * @returns {{create: (function(session:Object, handle:Number, id:String, delta:Boolean, customKey:String)), def: Object}} Returns the API definition.\n   */\n\n\t}, {\n\t\tkey: \"generateApi\",\n\t\tvalue: function generateApi(typeKey, def) {\n\t\t\tvar typeDef = Object.create({});\n\n\t\t\tthis.generateDefaultApi(typeDef, def); //Generate default\n\t\t\tthis.mixinType(typeKey, typeDef); //Mixin default type\n\n\t\t\tvar create = function create(session, handle, id, delta, customKey) {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tvar api = Object.create(typeDef);\n\n\t\t\t\t_eventEmitter2.default.mixin(api); // Always mixin event-emitter per instance\n\n\t\t\t\tObject.defineProperties(api, {\n\t\t\t\t\t\"session\": {\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tvalue: session\n\t\t\t\t\t},\n\t\t\t\t\t\"handle\": {\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tvalue: handle\n\t\t\t\t\t},\n\t\t\t\t\t\"id\": {\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tvalue: id\n\t\t\t\t\t},\n\t\t\t\t\t\"delta\": {\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\tvalue: delta\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar mixinList = this.mixins.get(typeKey) || [];\n\t\t\t\tif (customKey !== typeKey) {\n\t\t\t\t\tthis.mixinType(customKey, api); // Mixin custom types\n\t\t\t\t\tmixinList = mixinList.concat(this.mixins.get(customKey) || []);\n\t\t\t\t}\n\t\t\t\tmixinList.forEach(function (mixin) {\n\t\t\t\t\tif (typeof mixin.init === \"function\") {\n\t\t\t\t\t\tmixin.init({ Promise: _this2.Promise, api: api });\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn api;\n\t\t\t}.bind(this);\n\n\t\t\treturn {\n\t\t\t\tcreate: create,\n\t\t\t\tdef: typeDef\n\t\t\t};\n\t\t}\n\n\t\t/**\n   * @description Function used to generate the methods with the right handlers to the object API that is being generated.\n   * @param {Object} typeDef The object API that is currently being generated.\n   * @param {Object} def The API definition.\n   */\n\n\t}, {\n\t\tkey: \"generateDefaultApi\",\n\t\tvalue: function generateDefaultApi(typeDef, def) {\n\t\t\tObject.keys(def).forEach(function (key) {\n\t\t\t\tvar fnName = key.substring(0, 1).toLowerCase() + key.substring(1);\n\t\t\t\tvar outKey = def[key].Out && def[key].Out.length === 1 ? def[key].Out[0].Name : -1;\n\n\t\t\t\tvar allowDelta = IGNORE_DELTA_METHODS.indexOf(key) === -1 && outKey !== -1 && outKey !== SUCCESS_KEY;\n\n\t\t\t\tvar fn = function fn() {\n\t\t\t\t\tfor (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\tparams[_key] = arguments[_key];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this.session.send({\n\t\t\t\t\t\tmethod: key,\n\t\t\t\t\t\thandle: this.handle,\n\t\t\t\t\t\tparams: params,\n\t\t\t\t\t\tdelta: this.delta && allowDelta\n\t\t\t\t\t}, {\n\t\t\t\t\t\thandle: this.handle,\n\t\t\t\t\t\tmethod: key,\n\t\t\t\t\t\toutKey: outKey\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tObject.defineProperty(typeDef, fnName, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: fn\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * @description Function used to add mixin methods to a specified API.\n   * @param {String} typeKey Used to specify which mixin should be woven in.\n   * @param {Object} api The object that will be woven.\n   */\n\n\t}, {\n\t\tkey: \"mixinType\",\n\t\tvalue: function mixinType(typeKey, api) {\n\t\t\tvar mixinList = this.mixins.get(typeKey);\n\t\t\tif (mixinList) {\n\t\t\t\tmixinList.forEach(function (_ref2) {\n\t\t\t\t\tvar _ref2$extend = _ref2.extend;\n\t\t\t\t\tvar extend = _ref2$extend === undefined ? {} : _ref2$extend;\n\t\t\t\t\tvar _ref2$override = _ref2.override;\n\t\t\t\t\tvar override = _ref2$override === undefined ? {} : _ref2$override;\n\n\t\t\t\t\tObject.keys(override).forEach(function (key) {\n\t\t\t\t\t\tif (typeof api[key] === \"function\" && typeof override[key] === \"function\") {\n\t\t\t\t\t\t\t(function () {\n\t\t\t\t\t\t\t\tvar baseFn = api[key];\n\t\t\t\t\t\t\t\tapi[key] = function () {\n\t\t\t\t\t\t\t\t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\t\t\t\t\t\t\targs[_key2] = arguments[_key2];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn override[key].apply(this, [baseFn.bind(this)].concat(args));\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new Error(\"No function to override. Type: \" + typeKey + \" function: \" + key);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tObject.keys(extend).forEach(function (key) {\n\t\t\t\t\t\t// handle overrides\n\t\t\t\t\t\tif (typeof api[key] === \"function\" && typeof extend[key] === \"function\") {\n\t\t\t\t\t\t\tthrow new Error(\"Extend is not allowed for this mixin. Type: \" + typeKey + \" function: \" + key);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapi[key] = extend[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn Schema;\n}();\n\nexports.default = Schema;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3NlcnZpY2VzL3FpeC9zY2hlbWEuanM/MmRhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgS2V5VmFsdWVDYWNoZSBmcm9tIFwiLi4vLi4vY2FjaGVcIjtcbmltcG9ydCBFdmVudHMgZnJvbSBcIi4uLy4uL2V2ZW50LWVtaXR0ZXJcIjtcblxuY29uc3QgSUdOT1JFX0RFTFRBX01FVEhPRFMgPSBbXG5cdFwiR2V0UHJvcGVydGllc1wiLFxuXHRcIlNldFByb3BlcnRpZXNcIixcblx0XCJHZXRGdWxsUHJvcGVydHlUcmVlXCIsXG5cdFwiU2V0RnVsbFByb3BlcnR5VHJlZVwiLFxuXHRcIkdldEFwcFByb3BlcnRpZXNcIixcblx0XCJTZXRBcHBQcm9wZXJ0aWVzXCJcbl07XG5cbmNvbnN0IFNVQ0NFU1NfS0VZID0gXCJxU3VjY2Vzc1wiO1xuXG4vKipcbiAqIERlZmluaXRpb25zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjaGVtYSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1Y3Rvci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gUHJvbWlzZSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIGEgcHJvbWlzZS5cblx0ICogQHBhcmFtIHtPYmplY3R9IGpzb24gVGhlIEpTT04gb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBBUEkuXG5cdCAqL1xuXHRjb25zdHJ1Y3RvciggUHJvbWlzZSwganNvbiApIHtcblx0XHR0aGlzLlByb21pc2UgPSBQcm9taXNlO1xuXHRcdHRoaXMubWl4aW5zID0gbmV3IEtleVZhbHVlQ2FjaGUoKTtcblx0XHR0aGlzLmRlZiA9IGpzb247XG5cdFx0dGhpcy50eXBlcyA9IG5ldyBLZXlWYWx1ZUNhY2hlKCk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gYWRkIGEgbWl4aW4gb2JqZWN0IHRvIHRoZSBtaXhpbiBjYWNoZS4gV2lsbCBiZSBtaXhlZCBpbnRvIHRoZSBBUElcblx0ICogb2YgdGhlIHNwZWNpZmllZCBrZXkgd2hlbiBnZW5lcmF0ZWQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBtaXhpbiBNaXhpbiBvYmplY3QuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfEFycmF5PFN0cmluZz59IG1peGluLnR5cGVzIFN0cmluZyBvciBhcnJheSBvZiBzdHJpbmdzIGNvbnRhaW5pbmcgdGhlIEFQSS10eXBlcyB0aGF0IHdpbGwgYmUgbWl4ZWQgaW4uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbbWl4aW4uZXh0ZW5kXSBPYmplY3QgbGl0ZXJhbCBjb250YWluaW5nIHRoZSBtZXRob2RzIHRoYXQgd2lsbCBiZSBleHRlbmRlZCBvbiB0aGUgc3BlY2lmaWVkIEFQSS5cblx0ICogQHBhcmFtIHtPYmplY3R9IFttaXhpbi5vdmVycmlkZV0gT2JqZWN0IGxpdGVyYWwgY29udGFpbmluZyB0aGUgbWV0aG9kcyB0byBvdmVycmlkZSBleGlzdGluZyBtZXRob2RzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbWl4aW4uaW5pdF0gSW5pdCBmdW5jdGlvbiB0aGF0LCBpZiBkZWZpbmVkLCB3aWxsIHJ1biB3aGVuIGFuIEFQSSBpcyBpbnN0YW50aWF0ZWQuIEl0IHJ1bnMgd2l0aCBQcm9taXNlIGFuZCBBUEkgb2JqZWN0IGFzIHBhcmFtZXRlcnMuXG5cdCAqL1xuXHRyZWdpc3Rlck1peGluKCB7IHR5cGVzLCB0eXBlLCBleHRlbmQsIG92ZXJyaWRlLCBpbml0IH0gKSB7XG5cdFx0aWYgKCAhQXJyYXkuaXNBcnJheSggdHlwZXMgKSApIHtcblx0XHRcdHR5cGVzID0gW3R5cGVzXTtcblx0XHR9XG5cdFx0Ly8gdG8gc3VwcG9ydCBhIHNpbmdsZSB0eXBlXG5cdFx0aWYgKCB0eXBlICkge1xuXHRcdFx0dHlwZXMucHVzaCggdHlwZSApO1xuXHRcdH1cblx0XHRsZXQgY2FjaGVkID0geyBleHRlbmQsIG92ZXJyaWRlLCBpbml0IH07XG5cdFx0dHlwZXMuZm9yRWFjaCggdHlwZUtleSA9PiB7XG5cdFx0XHRsZXQgZW50cnlMaXN0ID0gdGhpcy5taXhpbnMuZ2V0KCB0eXBlS2V5ICk7XG5cdFx0XHRpZiAoIGVudHJ5TGlzdCApIHtcblx0XHRcdFx0ZW50cnlMaXN0LnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5taXhpbnMuYWRkKCB0eXBlS2V5LCBbIGNhY2hlZCBdICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIGEgdHlwZSBkZWZpbml0aW9uLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZUtleSBUaGUgdHlwZS5cblx0ICogQHJldHVybnMge3tjcmVhdGU6IEZ1bmN0aW9uLCBkZWY6IE9iamVjdH19IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYSBkZWZpbml0aW9uIG9mIHRoZSB0eXBlIGFuZCBhIGNyZWF0ZSBmYWN0b3J5LlxuXHQgKi9cblx0Z2VuZXJhdGUoIHR5cGVLZXkgKSB7XG5cdFx0bGV0IGVudHJ5ID0gdGhpcy50eXBlcy5nZXQoIHR5cGVLZXkgKTtcblx0XHRpZiAoIGVudHJ5ICkge1xuXHRcdFx0cmV0dXJuIGVudHJ5O1xuXHRcdH1cblx0XHRpZiAoICF0aGlzLmRlZi5zdHJ1Y3RzW3R5cGVLZXldICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCBgJHt0eXBlS2V5fSBub3QgZm91bmRgICk7XG5cdFx0fVxuXHRcdGxldCB0eXBlID0gdGhpcy5nZW5lcmF0ZUFwaSggdHlwZUtleSwgdGhpcy5kZWYuc3RydWN0c1t0eXBlS2V5XSApO1xuXHRcdHRoaXMudHlwZXMuYWRkKCB0eXBlS2V5LCB0eXBlICk7XG5cdFx0cmV0dXJuIHR5cGU7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gZ2VuZXJhdGUgYW4gQVBJIGRlZmluaXRpb24gZm9yIGEgZ2l2ZW4gdHlwZS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGVLZXkgVGhlIHR5cGUgdG8gZ2VuZXJhdGUuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZWYgVGhlIEFQSSBkZWZpbml0aW9uLlxuXHQgKiBAcmV0dXJucyB7e2NyZWF0ZTogKGZ1bmN0aW9uKHNlc3Npb246T2JqZWN0LCBoYW5kbGU6TnVtYmVyLCBpZDpTdHJpbmcsIGRlbHRhOkJvb2xlYW4sIGN1c3RvbUtleTpTdHJpbmcpKSwgZGVmOiBPYmplY3R9fSBSZXR1cm5zIHRoZSBBUEkgZGVmaW5pdGlvbi5cblx0ICovXG5cdGdlbmVyYXRlQXBpKCB0eXBlS2V5LCBkZWYgKSB7XG5cdFx0bGV0IHR5cGVEZWYgPSBPYmplY3QuY3JlYXRlKCB7fSApO1xuXG5cdFx0dGhpcy5nZW5lcmF0ZURlZmF1bHRBcGkoIHR5cGVEZWYsIGRlZiApOyAvL0dlbmVyYXRlIGRlZmF1bHRcblx0XHR0aGlzLm1peGluVHlwZSggdHlwZUtleSwgdHlwZURlZiApOyAvL01peGluIGRlZmF1bHQgdHlwZVxuXG5cdFx0bGV0IGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSggc2Vzc2lvbiwgaGFuZGxlLCBpZCwgZGVsdGEsIGN1c3RvbUtleSApIHtcblx0XHRcdGxldCBhcGkgPSBPYmplY3QuY3JlYXRlKCB0eXBlRGVmICk7XG5cblx0XHRcdEV2ZW50cy5taXhpbiggYXBpICk7IC8vIEFsd2F5cyBtaXhpbiBldmVudC1lbWl0dGVyIHBlciBpbnN0YW5jZVxuXG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyggYXBpLCB7XG5cdFx0XHRcdFwic2Vzc2lvblwiOiB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogc2Vzc2lvblxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImhhbmRsZVwiOiB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogaGFuZGxlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiaWRcIjoge1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IGlkXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiZGVsdGFcIjoge1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IGRlbHRhXG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblxuXHRcdFx0bGV0IG1peGluTGlzdCA9IHRoaXMubWl4aW5zLmdldCggdHlwZUtleSApIHx8IFtdO1xuXHRcdFx0aWYoIGN1c3RvbUtleSAhPT0gdHlwZUtleSApIHtcblx0XHRcdFx0dGhpcy5taXhpblR5cGUoIGN1c3RvbUtleSwgYXBpICk7IC8vIE1peGluIGN1c3RvbSB0eXBlc1xuXHRcdFx0XHRtaXhpbkxpc3QgPSBtaXhpbkxpc3QuY29uY2F0KCB0aGlzLm1peGlucy5nZXQoIGN1c3RvbUtleSApIHx8IFtdICk7XG5cdFx0XHR9XG5cdFx0XHRtaXhpbkxpc3QuZm9yRWFjaCggbWl4aW4gPT4ge1xuXHRcdFx0XHRpZiAoIHR5cGVvZiBtaXhpbi5pbml0ID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHRcdFx0bWl4aW4uaW5pdCggeyBQcm9taXNlOiB0aGlzLlByb21pc2UsIGFwaTogYXBpIH0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXG5cdFx0XHRyZXR1cm4gYXBpO1xuXG5cdFx0fS5iaW5kKCB0aGlzICk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Y3JlYXRlOiBjcmVhdGUsXG5cdFx0XHRkZWY6IHR5cGVEZWZcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGdlbmVyYXRlIHRoZSBtZXRob2RzIHdpdGggdGhlIHJpZ2h0IGhhbmRsZXJzIHRvIHRoZSBvYmplY3QgQVBJIHRoYXQgaXMgYmVpbmcgZ2VuZXJhdGVkLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdHlwZURlZiBUaGUgb2JqZWN0IEFQSSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBnZW5lcmF0ZWQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZWYgVGhlIEFQSSBkZWZpbml0aW9uLlxuXHQgKi9cblx0Z2VuZXJhdGVEZWZhdWx0QXBpKCB0eXBlRGVmLCBkZWYgKSB7XG5cdFx0T2JqZWN0LmtleXMoIGRlZiApLmZvckVhY2goIGtleSA9PiB7XG5cdFx0XHRsZXQgZm5OYW1lID0ga2V5LnN1YnN0cmluZyggMCwgMSApLnRvTG93ZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKCAxICk7XG5cdFx0XHRsZXQgb3V0S2V5ID0gZGVmW2tleV0uT3V0ICYmIGRlZltrZXldLk91dC5sZW5ndGggPT09IDEgPyBkZWZba2V5XS5PdXRbMF0uTmFtZSA6IC0xO1xuXG5cdFx0XHRsZXQgYWxsb3dEZWx0YSA9IElHTk9SRV9ERUxUQV9NRVRIT0RTLmluZGV4T2YoIGtleSApID09PSAtMSAmJiBvdXRLZXkgIT09IC0xICYmIG91dEtleSAhPT0gU1VDQ0VTU19LRVk7XG5cblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uICggLi4ucGFyYW1zICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zZXNzaW9uLnNlbmQoIHtcblx0XHRcdFx0XHRtZXRob2Q6IGtleSxcblx0XHRcdFx0XHRoYW5kbGU6IHRoaXMuaGFuZGxlLFxuXHRcdFx0XHRcdHBhcmFtczogcGFyYW1zLFxuXHRcdFx0XHRcdGRlbHRhOiB0aGlzLmRlbHRhICYmIGFsbG93RGVsdGFcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdGhhbmRsZTogdGhpcy5oYW5kbGUsXG5cdFx0XHRcdFx0bWV0aG9kOiBrZXksXG5cdFx0XHRcdFx0b3V0S2V5OiBvdXRLZXlcblx0XHRcdFx0fSApO1xuXHRcdFx0fTtcblxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0eXBlRGVmLCBmbk5hbWUsIHtcblx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdHZhbHVlOiBmblxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBhZGQgbWl4aW4gbWV0aG9kcyB0byBhIHNwZWNpZmllZCBBUEkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlS2V5IFVzZWQgdG8gc3BlY2lmeSB3aGljaCBtaXhpbiBzaG91bGQgYmUgd292ZW4gaW4uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBhcGkgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgd292ZW4uXG5cdCAqL1xuXHRtaXhpblR5cGUoIHR5cGVLZXksIGFwaSApIHtcblx0XHRsZXQgbWl4aW5MaXN0ID0gdGhpcy5taXhpbnMuZ2V0KCB0eXBlS2V5ICk7XG5cdFx0aWYgKCBtaXhpbkxpc3QgKSB7XG5cdFx0XHRtaXhpbkxpc3QuZm9yRWFjaCggKCB7IGV4dGVuZCA9IHt9LCBvdmVycmlkZSA9IHt9IH0gKSA9PiB7XG5cdFx0XHRcdE9iamVjdC5rZXlzKCBvdmVycmlkZSApLmZvckVhY2goIGtleSA9PiB7XG5cdFx0XHRcdFx0aWYgKCB0eXBlb2YgYXBpW2tleV0gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb3ZlcnJpZGVba2V5XSA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRcdFx0XHRcdFx0bGV0IGJhc2VGbiA9IGFwaVtrZXldO1xuXHRcdFx0XHRcdFx0YXBpW2tleV0gPSBmdW5jdGlvbiggLi4uYXJncyApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG92ZXJyaWRlW2tleV0uYXBwbHkoIHRoaXMsIFtiYXNlRm4uYmluZCggdGhpcyApLCAuLi5hcmdzXSApO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcIk5vIGZ1bmN0aW9uIHRvIG92ZXJyaWRlLiBUeXBlOiBcIiArIHR5cGVLZXkgKyBcIiBmdW5jdGlvbjogXCIgKyBrZXkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0T2JqZWN0LmtleXMoIGV4dGVuZCApLmZvckVhY2goIGtleSA9PiB7XG5cdFx0XHRcdFx0Ly8gaGFuZGxlIG92ZXJyaWRlc1xuXHRcdFx0XHRcdGlmICggdHlwZW9mIGFwaVtrZXldID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGV4dGVuZFtrZXldID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwiRXh0ZW5kIGlzIG5vdCBhbGxvd2VkIGZvciB0aGlzIG1peGluLiBUeXBlOiBcIiArIHR5cGVLZXkgKyBcIiBmdW5jdGlvbjogXCIgKyBrZXkgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YXBpW2tleV0gPSBleHRlbmRba2V5XTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9zZXJ2aWNlcy9xaXgvc2NoZW1hLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBO0FBUUE7QUFDQTs7Ozs7QUFJQTtBQUNBOzs7Ozs7O0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQVVBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQWJBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUpBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQW5MQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 11 */
/*!*************************************!*\
  !*** ./src/services/qix/session.js ***!
  \*************************************/
/***/ function(module, exports, __webpack_require__) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventEmitter = __webpack_require__(/*! ../../event-emitter */ 1);\n\nvar _eventEmitter2 = _interopRequireDefault(_eventEmitter);\n\nvar _apiCache = __webpack_require__(/*! ../../api-cache */ 6);\n\nvar _apiCache2 = _interopRequireDefault(_apiCache);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RETURN_KEY = \"qReturn\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Session - Handles a session against an endpoint\n */\n\nvar Session = function () {\n\n\t/**\n  * Constructor\n  * @param {Object} rpc - The RPC instance used by the session.\n  * @param {Boolean} delta=true - Flag to determine delta handling.\n  * @param {Object} definition - The definition instance used by the session.\n  * @param {Object} JSONPatch - JSON patch object.\n  * @param {Function} Promise - The promise constructor.\n  */\n\n\tfunction Session(rpc, delta, definition, JSONPatch, Promise) {\n\t\tvar _this = this;\n\n\t\tvar notifications = arguments.length <= 5 || arguments[5] === undefined ? {} : arguments[5];\n\n\t\t_classCallCheck(this, Session);\n\n\t\t_eventEmitter2.default.mixin(this);\n\t\tthis.rpc = rpc;\n\t\tthis.delta = delta;\n\t\tthis.definition = definition;\n\t\tthis.JSONPatch = JSONPatch;\n\t\tthis.Promise = Promise;\n\t\tthis.apis = new _apiCache2.default();\n\t\tthis.responseInterceptors = [{\n\t\t\tonFulfilled: this.processErrorInterceptor\n\t\t}, {\n\t\t\tonFulfilled: this.processDeltaInterceptor\n\t\t}, {\n\t\t\tonFulfilled: this.processResultInterceptor\n\t\t}, {\n\t\t\tonFulfilled: this.processOutInterceptor\n\t\t}, {\n\t\t\tonFulfilled: this.processObjectApiInterceptor\n\t\t}];\n\n\t\trpc.on(\"error-socket\", function (err) {\n\t\t\treturn _this.emit(\"error-socket\", err);\n\t\t});\n\t\trpc.on(\"close\", function (evt) {\n\t\t\treturn _this.emit(\"close\", evt);\n\t\t});\n\t\trpc.on(\"notification\", function (response) {\n\t\t\t_this.emit(\"notification:*\", response.method, response.params);\n\t\t\t_this.emit(\"notification:\" + response.method, response.params);\n\t\t});\n\n\t\trpc.on(\"message\", function (response) {\n\n\t\t\tif (response.change) {\n\t\t\t\tresponse.change.forEach(function (handle) {\n\t\t\t\t\treturn _this.emit(\"handle-changed\", handle);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (response.close) {\n\t\t\t\tresponse.close.forEach(function (handle) {\n\t\t\t\t\treturn _this.emit(\"handle-closed\", handle);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (response.suspend) {\n\t\t\t\t_this.rpc.send({\n\t\t\t\t\tmethod: \"Resume\",\n\t\t\t\t\tparams: [],\n\t\t\t\t\thandle: response.suspend[0]\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.on(\"handle-changed\", function (handle) {\n\t\t\tvar api = _this.apis.getApi(handle);\n\t\t\tif (api) {\n\t\t\t\tapi.emit(\"invalidated\");\n\t\t\t}\n\t\t});\n\n\t\tthis.on(\"handle-closed\", function (handle) {\n\t\t\tvar api = _this.apis.getApi(handle);\n\t\t\tif (api) {\n\t\t\t\tapi.emit(\"closed\");\n\t\t\t\t_this.apis.remove(handle);\n\t\t\t}\n\t\t});\n\n\t\tthis.on(\"close\", function () {\n\t\t\t_this.removeAllListeners();\n\t\t\t_this.apis.getApis().forEach(function (entry) {\n\t\t\t\tentry.api.emit(\"closed\");\n\t\t\t\tentry.api.removeAllListeners();\n\t\t\t});\n\t\t\t_this.apis.clear();\n\t\t});\n\n\t\tObject.keys(notifications).forEach(function (key) {\n\t\t\treturn _this.on(key, notifications[key]);\n\t\t});\n\t\tthis.emit(\"session-created\", this);\n\t}\n\n\t/**\n  * @description Function used to connect to the endpoint.\n  * @returns {Object} Returns a promise instance.\n  */\n\n\n\t_createClass(Session, [{\n\t\tkey: \"connect\",\n\t\tvalue: function connect() {\n\t\t\treturn this.rpc.open();\n\t\t}\n\n\t\t/**\n   * @description Function used to send data to the endpoint.\n   * @param {Object} data - The data to be sent.\n   * @param {Object} meta - The meta info about the request.\n   * @returns {Object} Returns a promise instance.\n   */\n\n\t}, {\n\t\tkey: \"send\",\n\t\tvalue: function send(data, meta) {\n\t\t\tvar promise = this.intercept(this.rpc.send(data), this.responseInterceptors, meta);\n\t\t\tSession.addToPromiseChain(promise, \"requestId\", data.id);\n\t\t\treturn promise;\n\t\t}\n\n\t\t/**\n   * @description Function used to close the endpoint.\n   * @returns {Object} Returns a promise instance.\n   */\n\n\t}, {\n\t\tkey: \"close\",\n\t\tvalue: function close() {\n\t\t\treturn this.rpc.close();\n\t\t}\n\n\t\t/**\n   * @description Function used to get an API for a backend object.\n   * @param {Object} args - Arguments used to create object API.\n   * @param {Number} args.handle - Handle of the backend object.\n   * @param {String} args.id - ID of the backend object.\n   * @param {String} args.type - QIX type of the backend object. Can for example be \"Doc\" or \"GenericVariable\".\n   * @param {String} args.customType - Custom type of the backend object, if defined in qInfo.\n   * @param {Boolean} [args.delta=true] - Flag indicating if delta should be used or not.\n   * @returns {*} Returns the generated and possibly augmented API.\n   */\n\n\t}, {\n\t\tkey: \"getObjectApi\",\n\t\tvalue: function getObjectApi(args) {\n\t\t\tvar handle = args.handle;\n\t\t\tvar id = args.id;\n\t\t\tvar type = args.type;\n\t\t\tvar customType = args.customType;\n\t\t\tvar _args$delta = args.delta;\n\t\t\tvar delta = _args$delta === undefined ? true : _args$delta;\n\n\t\t\tvar api = this.apis.getApi(handle);\n\t\t\tif (api) {\n\t\t\t\treturn api;\n\t\t\t}\n\t\t\tapi = this.definition.generate(type).create(this, handle, id, delta, customType);\n\t\t\tthis.apis.add(handle, api);\n\t\t\treturn api;\n\t\t}\n\n\t\t/**\n   * @description Function used to determine if it is a primitive patch.\n   * @param  {Array}  patches Patches from engine.\n   * @return {Boolean} Returns true if it is a primitive patch.\n   */\n\n\t}, {\n\t\tkey: \"isPrimitivePatch\",\n\t\tvalue: function isPrimitivePatch(patches) {\n\t\t\t//It's only `add` and `replace` that has a\n\t\t\t//value property according to the jsonpatch spec\n\t\t\treturn patches.length === 1 && [\"add\", \"replace\"].indexOf(patches[0].op) !== -1 && _typeof(patches[0].value) !== \"object\" && patches[0].path === \"/\" && !Array.isArray(patches[0].value);\n\t\t}\n\n\t\t/**\n   * @description Function used to get a patchee.\n   * @param {Number} handle - The handle.\n   * @param {Array} patches - The patches.\n   * @param {String} cacheId - The cacheId.\n   * @returns {Object} Returns the patchee.\n   */\n\n\t}, {\n\t\tkey: \"getPatchee\",\n\t\tvalue: function getPatchee(handle, patches, cacheId) {\n\t\t\t// handle primitive types, e.g. string, int, bool\n\t\t\tif (this.isPrimitivePatch(patches)) {\n\t\t\t\tvar value = patches[0].value;\n\t\t\t\tthis.apis.setPatchee(handle, cacheId, value);\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tvar patchee = this.apis.getPatchee(handle, cacheId);\n\t\t\tvar setPatchee = !patchee;\n\t\t\tpatchee = patchee || (patches.length && Array.isArray(patches[0].value) ? [] : {});\n\n\t\t\tthis.applyPatch(patchee, patches);\n\t\t\tif (setPatchee) {\n\t\t\t\tthis.apis.setPatchee(handle, cacheId, patchee);\n\t\t\t}\n\t\t\treturn patchee;\n\t\t}\n\n\t\t/**\n   * @description Function used to apply a patch.\n   * @param {Object} patchee - The object to patch.\n   * @param {Array} patches - The list of patches to apply.\n   */\n\n\t}, {\n\t\tkey: \"applyPatch\",\n\t\tvalue: function applyPatch(patchee, patches) {\n\t\t\tthis.JSONPatch.apply(patchee, patches);\n\t\t}\n\n\t\t/**\n   * @description Function used to intercept a request and apply interceptors.\n   * @param {Object} promise - A Promise instance that holds the request to intercept.\n   * @param {Array<Object>} interceptors - Array of objects with onFulfilled function and onReject function\n   * that will be applied to a request.\n   * @returns {Promise} Returns a promise.\n   */\n\n\t}, {\n\t\tkey: \"intercept\",\n\t\tvalue: function intercept(promise, interceptors, meta) {\n\t\t\tvar _this2 = this;\n\n\t\t\treturn interceptors.reduce(function (interception, interceptor) {\n\t\t\t\treturn interception.then(interceptor.onFulfilled.bind(_this2, meta), interceptor.onRejected);\n\t\t\t}, promise);\n\t\t}\n\n\t\t/**\n   * @description Process error interceptor.\n   * @param {Object} meta - The meta info about the request.\n   * @param response - The response.\n   * @returns {Object} - Returns the defined error for an error, else the response.\n   */\n\n\t}, {\n\t\tkey: \"processErrorInterceptor\",\n\t\tvalue: function processErrorInterceptor(_ref, response) {\n\t\t\t_objectDestructuringEmpty(_ref);\n\n\t\t\tif (typeof response.error !== \"undefined\") {\n\t\t\t\tthis.emit(\"error-qix\", response.error);\n\t\t\t\treturn this.Promise.reject(response.error);\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\n\t\t/**\n   * @description Process delta interceptor.\n   * @param {Object} meta - The meta info about the request.\n   * @param response - The response.\n   * @returns {Object} - Returns the patched response\n   */\n\n\t}, {\n\t\tkey: \"processDeltaInterceptor\",\n\t\tvalue: function processDeltaInterceptor(meta, response) {\n\t\t\tvar result = response.result;\n\t\t\tif (response.delta) {\n\t\t\t\t// when delta is on the response data is expected to be an array of patches\n\t\t\t\tvar keys = Object.keys(result);\n\t\t\t\tfor (var i = 0, cnt = keys.length; i < cnt; ++i) {\n\t\t\t\t\tvar key = keys[i];\n\t\t\t\t\tvar patches = result[key];\n\t\t\t\t\tif (!Array.isArray(patches)) {\n\t\t\t\t\t\treturn this.Promise.reject(\"Unexpected rpc response, expected array of patches\");\n\t\t\t\t\t}\n\t\t\t\t\tresult[key] = this.getPatchee(meta.handle, patches, meta.method + \"-\" + key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\n\t\t/**\n   * @description Process result interceptor.\n   * @param {Object} meta - The meta info about the request.\n   * @param response - The response.\n   * @returns {Object} - Returns the result property on the response\n   */\n\n\t}, {\n\t\tkey: \"processResultInterceptor\",\n\t\tvalue: function processResultInterceptor(meta, response) {\n\t\t\treturn response.result;\n\t\t}\n\n\t\t/**\n   * @description Process out interceptor.\n   * @param {Object} meta - The meta info about the request.\n   * @param response - The result.\n   * @returns {Object} - Returns the out property on result\n   */\n\n\t}, {\n\t\tkey: \"processOutInterceptor\",\n\t\tvalue: function processOutInterceptor(meta, result) {\n\t\t\tif (hasOwnProperty.call(result, RETURN_KEY)) {\n\t\t\t\treturn result[RETURN_KEY];\n\t\t\t} else if (meta.outKey !== -1) {\n\t\t\t\treturn result[meta.outKey];\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\t/**\n   * @description Function used to process the object API interceptor.\n   * @param response - The response.\n   * @returns {Object} - Returns an object API or the response.\n   */\n\n\t}, {\n\t\tkey: \"processObjectApiInterceptor\",\n\t\tvalue: function processObjectApiInterceptor(_ref2, response) {\n\t\t\t_objectDestructuringEmpty(_ref2);\n\n\t\t\tif (response.qHandle && response.qType) {\n\t\t\t\tvar args = { handle: response.qHandle, type: response.qType, id: response.qGenericId, customType: response.qGenericType, delta: this.delta };\n\t\t\t\treturn this.getObjectApi(args);\n\t\t\t} else if (response.qHandle === null && response.qType === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\n\t\t/**\n   * @description Function used to add info on the promise chain.\n   * @private\n   * @param {Promise} promise The promise to add info on.\n   * @param {String} name    The property to add info on.\n   * @param {Any} value   The info to add.\n   */\n\n\t}], [{\n\t\tkey: \"addToPromiseChain\",\n\t\tvalue: function addToPromiseChain(promise, name, value) {\n\t\t\tpromise[name] = value;\n\t\t\tvar then = promise.then;\n\t\t\tpromise.then = function () {\n\t\t\t\tfor (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\tparams[_key] = arguments[_key];\n\t\t\t\t}\n\n\t\t\t\tvar chain = then.apply(this, params);\n\t\t\t\tSession.addToPromiseChain(chain, name, value);\n\t\t\t\treturn chain;\n\t\t\t};\n\t\t}\n\t}]);\n\n\treturn Session;\n}();\n\nexports.default = Session;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3NlcnZpY2VzL3FpeC9zZXNzaW9uLmpzPzgxMzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50cyBmcm9tIFwiLi4vLi4vZXZlbnQtZW1pdHRlclwiO1xuaW1wb3J0IEFwaUNhY2hlIGZyb20gXCIuLi8uLi9hcGktY2FjaGVcIjtcblxuY29uc3QgUkVUVVJOX0tFWSA9IFwicVJldHVyblwiO1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuLyoqXG4gKiBTZXNzaW9uIC0gSGFuZGxlcyBhIHNlc3Npb24gYWdhaW5zdCBhbiBlbmRwb2ludFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXNzaW9uIHtcblxuXHQvKipcblx0ICogQ29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IHJwYyAtIFRoZSBSUEMgaW5zdGFuY2UgdXNlZCBieSB0aGUgc2Vzc2lvbi5cblx0ICogQHBhcmFtIHtCb29sZWFufSBkZWx0YT10cnVlIC0gRmxhZyB0byBkZXRlcm1pbmUgZGVsdGEgaGFuZGxpbmcuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9uIC0gVGhlIGRlZmluaXRpb24gaW5zdGFuY2UgdXNlZCBieSB0aGUgc2Vzc2lvbi5cblx0ICogQHBhcmFtIHtPYmplY3R9IEpTT05QYXRjaCAtIEpTT04gcGF0Y2ggb2JqZWN0LlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBQcm9taXNlIC0gVGhlIHByb21pc2UgY29uc3RydWN0b3IuXG5cdCAqL1xuXHRjb25zdHJ1Y3RvciAoIHJwYywgZGVsdGEsIGRlZmluaXRpb24sIEpTT05QYXRjaCwgUHJvbWlzZSwgbm90aWZpY2F0aW9ucyA9IHt9ICkge1xuXHRcdEV2ZW50cy5taXhpbiggdGhpcyApO1xuXHRcdHRoaXMucnBjID0gcnBjO1xuXHRcdHRoaXMuZGVsdGEgPSBkZWx0YTtcblx0XHR0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuXHRcdHRoaXMuSlNPTlBhdGNoID0gSlNPTlBhdGNoO1xuXHRcdHRoaXMuUHJvbWlzZSA9IFByb21pc2U7XG5cdFx0dGhpcy5hcGlzID0gbmV3IEFwaUNhY2hlKCk7XG5cdFx0dGhpcy5yZXNwb25zZUludGVyY2VwdG9ycyA9IFt7XG5cdFx0XHRvbkZ1bGZpbGxlZDogdGhpcy5wcm9jZXNzRXJyb3JJbnRlcmNlcHRvclxuXHRcdH0sIHtcblx0XHRcdG9uRnVsZmlsbGVkOiB0aGlzLnByb2Nlc3NEZWx0YUludGVyY2VwdG9yXG5cdFx0fSwge1xuXHRcdFx0b25GdWxmaWxsZWQ6IHRoaXMucHJvY2Vzc1Jlc3VsdEludGVyY2VwdG9yXG5cdFx0fSwge1xuXHRcdFx0b25GdWxmaWxsZWQ6IHRoaXMucHJvY2Vzc091dEludGVyY2VwdG9yXG5cdFx0fSwge1xuXHRcdFx0b25GdWxmaWxsZWQ6IHRoaXMucHJvY2Vzc09iamVjdEFwaUludGVyY2VwdG9yXG5cdFx0fV07XG5cblx0XHRycGMub24oIFwiZXJyb3Itc29ja2V0XCIsIGVyciA9PiB0aGlzLmVtaXQoIFwiZXJyb3Itc29ja2V0XCIsIGVyciApICk7XG5cdFx0cnBjLm9uKCBcImNsb3NlXCIsIGV2dCA9PiB0aGlzLmVtaXQoIFwiY2xvc2VcIiwgZXZ0ICkgKTtcblx0XHRycGMub24oIFwibm90aWZpY2F0aW9uXCIsIHJlc3BvbnNlID0+IHtcblx0XHRcdHRoaXMuZW1pdCggXCJub3RpZmljYXRpb246KlwiLCByZXNwb25zZS5tZXRob2QsIHJlc3BvbnNlLnBhcmFtcyApO1xuXHRcdFx0dGhpcy5lbWl0KCBcIm5vdGlmaWNhdGlvbjpcIiArIHJlc3BvbnNlLm1ldGhvZCwgcmVzcG9uc2UucGFyYW1zICk7XG5cdFx0fSApO1xuXG5cdFx0cnBjLm9uKCBcIm1lc3NhZ2VcIiwgcmVzcG9uc2UgPT4ge1xuXG5cdFx0XHRpZiAoIHJlc3BvbnNlLmNoYW5nZSApIHtcblx0XHRcdFx0cmVzcG9uc2UuY2hhbmdlLmZvckVhY2goIGhhbmRsZSA9PiB0aGlzLmVtaXQoIFwiaGFuZGxlLWNoYW5nZWRcIiwgaGFuZGxlICkgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCByZXNwb25zZS5jbG9zZSApIHtcblx0XHRcdFx0cmVzcG9uc2UuY2xvc2UuZm9yRWFjaCggaGFuZGxlID0+IHRoaXMuZW1pdCggXCJoYW5kbGUtY2xvc2VkXCIsIGhhbmRsZSApICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggcmVzcG9uc2Uuc3VzcGVuZCApIHtcblx0XHRcdFx0dGhpcy5ycGMuc2VuZCgge1xuXHRcdFx0XHRcdG1ldGhvZDogXCJSZXN1bWVcIixcblx0XHRcdFx0XHRwYXJhbXM6IFtdLFxuXHRcdFx0XHRcdGhhbmRsZTogcmVzcG9uc2Uuc3VzcGVuZFswXVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0dGhpcy5vbiggXCJoYW5kbGUtY2hhbmdlZFwiLCBoYW5kbGUgPT4ge1xuXHRcdFx0Y29uc3QgYXBpID0gdGhpcy5hcGlzLmdldEFwaSggaGFuZGxlICk7XG5cdFx0XHRpZiAoIGFwaSApIHtcblx0XHRcdFx0YXBpLmVtaXQoIFwiaW52YWxpZGF0ZWRcIiApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdHRoaXMub24oIFwiaGFuZGxlLWNsb3NlZFwiLCBoYW5kbGUgPT4ge1xuXHRcdFx0Y29uc3QgYXBpID0gdGhpcy5hcGlzLmdldEFwaSggaGFuZGxlICk7XG5cdFx0XHRpZiAoIGFwaSApIHtcblx0XHRcdFx0YXBpLmVtaXQoIFwiY2xvc2VkXCIgKTtcblx0XHRcdFx0dGhpcy5hcGlzLnJlbW92ZSggaGFuZGxlICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0dGhpcy5vbiggXCJjbG9zZVwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXHRcdFx0dGhpcy5hcGlzLmdldEFwaXMoKS5mb3JFYWNoKCBlbnRyeSA9PiB7XG5cdFx0XHRcdGVudHJ5LmFwaS5lbWl0KCBcImNsb3NlZFwiICk7XG5cdFx0XHRcdGVudHJ5LmFwaS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblx0XHRcdH0gKTtcblx0XHRcdHRoaXMuYXBpcy5jbGVhcigpO1xuXHRcdH0gKTtcblxuXHRcdE9iamVjdC5rZXlzKCBub3RpZmljYXRpb25zICkuZm9yRWFjaCgga2V5ID0+IHRoaXMub24oIGtleSwgbm90aWZpY2F0aW9uc1trZXldICkgKTtcblx0XHR0aGlzLmVtaXQoIFwic2Vzc2lvbi1jcmVhdGVkXCIsIHRoaXMgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBjb25uZWN0IHRvIHRoZSBlbmRwb2ludC5cblx0ICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIHByb21pc2UgaW5zdGFuY2UuXG5cdCAqL1xuXHRjb25uZWN0KCkge1xuXHRcdHJldHVybiB0aGlzLnJwYy5vcGVuKCk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gc2VuZCBkYXRhIHRvIHRoZSBlbmRwb2ludC5cblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSB0byBiZSBzZW50LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbWV0YSAtIFRoZSBtZXRhIGluZm8gYWJvdXQgdGhlIHJlcXVlc3QuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBwcm9taXNlIGluc3RhbmNlLlxuXHQgKi9cblx0c2VuZCggZGF0YSwgbWV0YSApIHtcblx0XHRjb25zdCBwcm9taXNlID0gdGhpcy5pbnRlcmNlcHQoIHRoaXMucnBjLnNlbmQoIGRhdGEgKSwgdGhpcy5yZXNwb25zZUludGVyY2VwdG9ycywgbWV0YSApO1xuXHRcdFNlc3Npb24uYWRkVG9Qcm9taXNlQ2hhaW4oIHByb21pc2UsIFwicmVxdWVzdElkXCIsIGRhdGEuaWQgKTtcblx0XHRyZXR1cm4gcHJvbWlzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBjbG9zZSB0aGUgZW5kcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBwcm9taXNlIGluc3RhbmNlLlxuXHQgKi9cblx0Y2xvc2UoKSB7XG5cdFx0cmV0dXJuIHRoaXMucnBjLmNsb3NlKCk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IGFuIEFQSSBmb3IgYSBiYWNrZW5kIG9iamVjdC5cblx0ICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBBcmd1bWVudHMgdXNlZCB0byBjcmVhdGUgb2JqZWN0IEFQSS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGFyZ3MuaGFuZGxlIC0gSGFuZGxlIG9mIHRoZSBiYWNrZW5kIG9iamVjdC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGFyZ3MuaWQgLSBJRCBvZiB0aGUgYmFja2VuZCBvYmplY3QuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhcmdzLnR5cGUgLSBRSVggdHlwZSBvZiB0aGUgYmFja2VuZCBvYmplY3QuIENhbiBmb3IgZXhhbXBsZSBiZSBcIkRvY1wiIG9yIFwiR2VuZXJpY1ZhcmlhYmxlXCIuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBhcmdzLmN1c3RvbVR5cGUgLSBDdXN0b20gdHlwZSBvZiB0aGUgYmFja2VuZCBvYmplY3QsIGlmIGRlZmluZWQgaW4gcUluZm8uXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FyZ3MuZGVsdGE9dHJ1ZV0gLSBGbGFnIGluZGljYXRpbmcgaWYgZGVsdGEgc2hvdWxkIGJlIHVzZWQgb3Igbm90LlxuXHQgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZ2VuZXJhdGVkIGFuZCBwb3NzaWJseSBhdWdtZW50ZWQgQVBJLlxuXHQgKi9cblx0Z2V0T2JqZWN0QXBpKCBhcmdzICkge1xuXHRcdGxldCB7IGhhbmRsZSwgaWQsIHR5cGUsIGN1c3RvbVR5cGUsIGRlbHRhID0gdHJ1ZSB9ID0gYXJncztcblx0XHRsZXQgYXBpID0gdGhpcy5hcGlzLmdldEFwaSggaGFuZGxlICk7XG5cdFx0aWYgKCBhcGkgKSB7XG5cdFx0XHRyZXR1cm4gYXBpO1xuXHRcdH1cblx0XHRhcGkgPSB0aGlzLmRlZmluaXRpb25cblx0XHRcdC5nZW5lcmF0ZSggdHlwZSApXG5cdFx0XHQuY3JlYXRlKCB0aGlzLCBoYW5kbGUsIGlkLCBkZWx0YSwgY3VzdG9tVHlwZSApO1xuXHRcdHRoaXMuYXBpcy5hZGQoIGhhbmRsZSwgYXBpICk7XG5cdFx0cmV0dXJuIGFwaTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBkZXRlcm1pbmUgaWYgaXQgaXMgYSBwcmltaXRpdmUgcGF0Y2guXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgcGF0Y2hlcyBQYXRjaGVzIGZyb20gZW5naW5lLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgaXQgaXMgYSBwcmltaXRpdmUgcGF0Y2guXG5cdCAqL1xuXHRpc1ByaW1pdGl2ZVBhdGNoKCBwYXRjaGVzICkge1xuXHRcdC8vSXQncyBvbmx5IGBhZGRgIGFuZCBgcmVwbGFjZWAgdGhhdCBoYXMgYVxuXHRcdC8vdmFsdWUgcHJvcGVydHkgYWNjb3JkaW5nIHRvIHRoZSBqc29ucGF0Y2ggc3BlY1xuXHRcdHJldHVybiBwYXRjaGVzLmxlbmd0aCA9PT0gMSAmJlxuXHRcdFx0W1wiYWRkXCIsIFwicmVwbGFjZVwiXS5pbmRleE9mKCBwYXRjaGVzWzBdLm9wICkgIT09IC0xICYmXG5cdFx0XHR0eXBlb2YgcGF0Y2hlc1swXS52YWx1ZSAhPT0gXCJvYmplY3RcIiAmJlxuXHRcdFx0cGF0Y2hlc1swXS5wYXRoID09PSBcIi9cIiAmJlxuXHRcdFx0IUFycmF5LmlzQXJyYXkoIHBhdGNoZXNbMF0udmFsdWUgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBnZXQgYSBwYXRjaGVlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gaGFuZGxlIC0gVGhlIGhhbmRsZS5cblx0ICogQHBhcmFtIHtBcnJheX0gcGF0Y2hlcyAtIFRoZSBwYXRjaGVzLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gY2FjaGVJZCAtIFRoZSBjYWNoZUlkLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBwYXRjaGVlLlxuXHQgKi9cblx0Z2V0UGF0Y2hlZSggaGFuZGxlLCBwYXRjaGVzLCBjYWNoZUlkICkge1xuXHRcdC8vIGhhbmRsZSBwcmltaXRpdmUgdHlwZXMsIGUuZy4gc3RyaW5nLCBpbnQsIGJvb2xcblx0XHRpZiAoIHRoaXMuaXNQcmltaXRpdmVQYXRjaCggcGF0Y2hlcyApICkge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSBwYXRjaGVzWzBdLnZhbHVlO1xuXHRcdFx0dGhpcy5hcGlzLnNldFBhdGNoZWUoIGhhbmRsZSwgY2FjaGVJZCwgdmFsdWUgKTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRsZXQgcGF0Y2hlZSA9IHRoaXMuYXBpcy5nZXRQYXRjaGVlKCBoYW5kbGUsIGNhY2hlSWQgKTtcblx0XHRjb25zdCBzZXRQYXRjaGVlID0gIXBhdGNoZWU7XG5cdFx0cGF0Y2hlZSA9IHBhdGNoZWUgfHwgKCBwYXRjaGVzLmxlbmd0aCAmJiBBcnJheS5pc0FycmF5KCBwYXRjaGVzWzBdLnZhbHVlICkgPyBbXSA6IHt9ICk7XG5cblx0XHR0aGlzLmFwcGx5UGF0Y2goIHBhdGNoZWUsIHBhdGNoZXMgKTtcblx0XHRpZiggc2V0UGF0Y2hlZSApIHtcblx0XHRcdHRoaXMuYXBpcy5zZXRQYXRjaGVlKCBoYW5kbGUsIGNhY2hlSWQsIHBhdGNoZWUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHBhdGNoZWU7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gYXBwbHkgYSBwYXRjaC5cblx0ICogQHBhcmFtIHtPYmplY3R9IHBhdGNoZWUgLSBUaGUgb2JqZWN0IHRvIHBhdGNoLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBwYXRjaGVzIC0gVGhlIGxpc3Qgb2YgcGF0Y2hlcyB0byBhcHBseS5cblx0ICovXG5cdGFwcGx5UGF0Y2goIHBhdGNoZWUsIHBhdGNoZXMgKSB7XG5cdFx0dGhpcy5KU09OUGF0Y2guYXBwbHkoIHBhdGNoZWUsIHBhdGNoZXMgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdXNlZCB0byBpbnRlcmNlcHQgYSByZXF1ZXN0IGFuZCBhcHBseSBpbnRlcmNlcHRvcnMuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm9taXNlIC0gQSBQcm9taXNlIGluc3RhbmNlIHRoYXQgaG9sZHMgdGhlIHJlcXVlc3QgdG8gaW50ZXJjZXB0LlxuXHQgKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGludGVyY2VwdG9ycyAtIEFycmF5IG9mIG9iamVjdHMgd2l0aCBvbkZ1bGZpbGxlZCBmdW5jdGlvbiBhbmQgb25SZWplY3QgZnVuY3Rpb25cblx0ICogdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gYSByZXF1ZXN0LlxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2UuXG5cdCAqL1xuXHRpbnRlcmNlcHQoIHByb21pc2UsIGludGVyY2VwdG9ycywgbWV0YSApIHtcblx0XHRyZXR1cm4gaW50ZXJjZXB0b3JzLnJlZHVjZSggKCBpbnRlcmNlcHRpb24sIGludGVyY2VwdG9yICkgPT4ge1xuXHRcdFx0cmV0dXJuIGludGVyY2VwdGlvbi50aGVuKCBpbnRlcmNlcHRvci5vbkZ1bGZpbGxlZC5iaW5kKCB0aGlzLCBtZXRhICksIGludGVyY2VwdG9yLm9uUmVqZWN0ZWQgKTtcblx0XHR9LCBwcm9taXNlICk7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFByb2Nlc3MgZXJyb3IgaW50ZXJjZXB0b3IuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBtZXRhIC0gVGhlIG1ldGEgaW5mbyBhYm91dCB0aGUgcmVxdWVzdC5cblx0ICogQHBhcmFtIHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSAtIFJldHVybnMgdGhlIGRlZmluZWQgZXJyb3IgZm9yIGFuIGVycm9yLCBlbHNlIHRoZSByZXNwb25zZS5cblx0ICovXG5cdHByb2Nlc3NFcnJvckludGVyY2VwdG9yKCB7fSwgcmVzcG9uc2UgKSB7XG5cdFx0aWYgKCB0eXBlb2YgcmVzcG9uc2UuZXJyb3IgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHR0aGlzLmVtaXQoIFwiZXJyb3ItcWl4XCIsIHJlc3BvbnNlLmVycm9yICk7XG5cdFx0XHRyZXR1cm4gdGhpcy5Qcm9taXNlLnJlamVjdCggcmVzcG9uc2UuZXJyb3IgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBQcm9jZXNzIGRlbHRhIGludGVyY2VwdG9yLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbWV0YSAtIFRoZSBtZXRhIGluZm8gYWJvdXQgdGhlIHJlcXVlc3QuXG5cdCAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSByZXNwb25zZS5cblx0ICogQHJldHVybnMge09iamVjdH0gLSBSZXR1cm5zIHRoZSBwYXRjaGVkIHJlc3BvbnNlXG5cdCAqL1xuXHRwcm9jZXNzRGVsdGFJbnRlcmNlcHRvciggbWV0YSwgcmVzcG9uc2UgKSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gcmVzcG9uc2UucmVzdWx0O1xuXHRcdGlmICggcmVzcG9uc2UuZGVsdGEgKSB7XG5cdFx0XHQvLyB3aGVuIGRlbHRhIGlzIG9uIHRoZSByZXNwb25zZSBkYXRhIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5IG9mIHBhdGNoZXNcblx0XHRcdGxldCBrZXlzID0gT2JqZWN0LmtleXMoIHJlc3VsdCApO1xuXHRcdFx0Zm9yKCBsZXQgaSA9IDAsIGNudCA9IGtleXMubGVuZ3RoOyBpIDwgY250OyArK2kgKSB7XG5cdFx0XHRcdGNvbnN0IGtleSA9IGtleXNbaV07XG5cdFx0XHRcdGNvbnN0IHBhdGNoZXMgPSByZXN1bHRba2V5XTtcblx0XHRcdFx0aWYoICFBcnJheS5pc0FycmF5KCBwYXRjaGVzICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuUHJvbWlzZS5yZWplY3QoIFwiVW5leHBlY3RlZCBycGMgcmVzcG9uc2UsIGV4cGVjdGVkIGFycmF5IG9mIHBhdGNoZXNcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJlc3VsdFtrZXldID0gdGhpcy5nZXRQYXRjaGVlKCBtZXRhLmhhbmRsZSwgcGF0Y2hlcywgbWV0YS5tZXRob2QgKyBcIi1cIiArIGtleSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFByb2Nlc3MgcmVzdWx0IGludGVyY2VwdG9yLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbWV0YSAtIFRoZSBtZXRhIGluZm8gYWJvdXQgdGhlIHJlcXVlc3QuXG5cdCAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSByZXNwb25zZS5cblx0ICogQHJldHVybnMge09iamVjdH0gLSBSZXR1cm5zIHRoZSByZXN1bHQgcHJvcGVydHkgb24gdGhlIHJlc3BvbnNlXG5cdCAqL1xuXHRwcm9jZXNzUmVzdWx0SW50ZXJjZXB0b3IoIG1ldGEsIHJlc3BvbnNlICkge1xuXHRcdHJldHVybiByZXNwb25zZS5yZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFByb2Nlc3Mgb3V0IGludGVyY2VwdG9yLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbWV0YSAtIFRoZSBtZXRhIGluZm8gYWJvdXQgdGhlIHJlcXVlc3QuXG5cdCAqIEBwYXJhbSByZXNwb25zZSAtIFRoZSByZXN1bHQuXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IC0gUmV0dXJucyB0aGUgb3V0IHByb3BlcnR5IG9uIHJlc3VsdFxuXHQgKi9cblx0cHJvY2Vzc091dEludGVyY2VwdG9yKCBtZXRhLCByZXN1bHQgKSB7XG5cdFx0aWYgKCBoYXNPd25Qcm9wZXJ0eS5jYWxsKCByZXN1bHQsIFJFVFVSTl9LRVkgKSApIHtcblx0XHRcdHJldHVybiByZXN1bHRbUkVUVVJOX0tFWV07XG5cdFx0fSBlbHNlIGlmICggbWV0YS5vdXRLZXkgIT09IC0xICkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdFttZXRhLm91dEtleV07XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHVzZWQgdG8gcHJvY2VzcyB0aGUgb2JqZWN0IEFQSSBpbnRlcmNlcHRvci5cblx0ICogQHBhcmFtIHJlc3BvbnNlIC0gVGhlIHJlc3BvbnNlLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSAtIFJldHVybnMgYW4gb2JqZWN0IEFQSSBvciB0aGUgcmVzcG9uc2UuXG5cdCAqL1xuXHRwcm9jZXNzT2JqZWN0QXBpSW50ZXJjZXB0b3IoIHt9LCByZXNwb25zZSApIHtcblx0XHRpZiAoIHJlc3BvbnNlLnFIYW5kbGUgJiYgcmVzcG9uc2UucVR5cGUgKSB7XG5cdFx0XHRsZXQgYXJncyA9IHsgaGFuZGxlOiByZXNwb25zZS5xSGFuZGxlLCB0eXBlOiByZXNwb25zZS5xVHlwZSwgaWQ6IHJlc3BvbnNlLnFHZW5lcmljSWQsIGN1c3RvbVR5cGU6IHJlc3BvbnNlLnFHZW5lcmljVHlwZSwgZGVsdGE6IHRoaXMuZGVsdGEgfTtcblx0XHRcdHJldHVybiB0aGlzLmdldE9iamVjdEFwaSggYXJncyApO1xuXHRcdH0gZWxzZSBpZiAoIHJlc3BvbnNlLnFIYW5kbGUgPT09IG51bGwgJiYgcmVzcG9uc2UucVR5cGUgPT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB1c2VkIHRvIGFkZCBpbmZvIG9uIHRoZSBwcm9taXNlIGNoYWluLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1Byb21pc2V9IHByb21pc2UgVGhlIHByb21pc2UgdG8gYWRkIGluZm8gb24uXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lICAgIFRoZSBwcm9wZXJ0eSB0byBhZGQgaW5mbyBvbi5cblx0ICogQHBhcmFtIHtBbnl9IHZhbHVlICAgVGhlIGluZm8gdG8gYWRkLlxuXHQgKi9cblx0c3RhdGljIGFkZFRvUHJvbWlzZUNoYWluKCBwcm9taXNlLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRwcm9taXNlW25hbWVdID0gdmFsdWU7XG5cdFx0Y29uc3QgdGhlbiA9IHByb21pc2UudGhlbjtcblx0XHRwcm9taXNlLnRoZW4gPSBmdW5jdGlvbiAoIC4uLnBhcmFtcyApIHtcblx0XHRcdGNvbnN0IGNoYWluID0gdGhlbi5hcHBseSggdGhpcywgcGFyYW1zICk7XG5cdFx0XHRTZXNzaW9uLmFkZFRvUHJvbWlzZUNoYWluKCBjaGFpbiwgbmFtZSwgdmFsdWUgKTtcblx0XHRcdHJldHVybiBjaGFpbjtcblx0XHR9O1xuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvc2VydmljZXMvcWl4L3Nlc3Npb24uanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFDQTtBQUNBOzs7OztBQUlBO0FBQ0E7Ozs7Ozs7Ozs7QUFTQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFEQTtBQUdBO0FBREE7QUFHQTtBQURBO0FBR0E7QUFEQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQU1BOzs7QUFHQTtBQUtBO0FBQ0E7Ozs7Ozs7Ozs7O0FBUUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBbFNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 12 */
/*!***************************************!*\
  !*** ./~/node-event-emitter/index.js ***!
  \***************************************/
/***/ function(module, exports) {

	eval("/**\n * Utility functions\n */\n\nvar util = {};\n\nutil.isObject = function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nutil.isNumber = function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nutil.isUndefined = function isUndefined(arg) {\n  return arg === void 0;\n}\n\nutil.isFunction = function isFunction(arg){\n  return typeof arg === 'function';\n}\n\n\n/**\n * EventEmitter class\n */\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!util.isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error' && !this._events.error) {\n    er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      throw Error('Uncaught, unspecified \"error\" event.');\n    }\n    return false;\n  }\n\n  handler = this._events[type];\n\n  if (util.isUndefined(handler))\n    return false;\n\n  if (util.isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (util.isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              util.isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (util.isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (util.isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!util.isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n\n      if (util.isFunction(console.error)) {\n        console.error('(node) warning: possible EventEmitter memory ' +\n                      'leak detected. %d listeners added. ' +\n                      'Use emitter.setMaxListeners() to increase limit.',\n                      this._events[type].length);\n      }\n      if (util.isFunction(console.trace))\n        console.trace();\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (util.isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (util.isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (util.isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (Array.isArray(listeners)) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (util.isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (util.isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L25vZGUtZXZlbnQtZW1pdHRlci9pbmRleC5qcz80M2U1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbnNcbiAqL1xuXG52YXIgdXRpbCA9IHt9O1xuXG51dGlsLmlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbnV0aWwuaXNOdW1iZXIgPSBmdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG51dGlsLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxudXRpbC5pc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpe1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG4vKipcbiAqIEV2ZW50RW1pdHRlciBjbGFzc1xuICovXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIXV0aWwuaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJyAmJiAhdGhpcy5fZXZlbnRzLmVycm9yKSB7XG4gICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAodXRpbC5pc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHV0aWwuaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHV0aWwuaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIXV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIHV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAodXRpbC5pc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKHV0aWwuaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIHZhciBtO1xuICAgIGlmICghdXRpbC5pc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuXG4gICAgICBpZiAodXRpbC5pc0Z1bmN0aW9uKGNvbnNvbGUuZXJyb3IpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgaWYgKHV0aWwuaXNGdW5jdGlvbihjb25zb2xlLnRyYWNlKSlcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghdXRpbC5pc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIXV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKHV0aWwuaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAodXRpbC5pc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKHV0aWwuaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSkge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmICh1dGlsLmlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gMDtcbiAgZWxzZSBpZiAodXRpbC5pc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbm9kZS1ldmVudC1lbWl0dGVyL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ])
});
;